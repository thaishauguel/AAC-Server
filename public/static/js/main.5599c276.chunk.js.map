{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/SearchBar.jsx","components/NavMain.jsx","components/ProtectedRoute.jsx","components/Footer.jsx","controllers/EthToDollars.js","components/ArtworkCard.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/Credits.jsx","pages/SubProfilePages/MyActivity.jsx","components/Forms/AddAnAuction.jsx","pages/SubProfilePages/MyCollection.jsx","pages/SubProfilePages/FormCreateAnArtwork.jsx","pages/SubProfilePages/FormUpdateOneCreation.jsx","pages/SubProfilePages/MyCreations.jsx","pages/SubProfilePages/FormUpdateProfile.jsx","pages/Profile.jsx","pages/Artist.jsx","components/ArtistCard.jsx","pages/Results.jsx","components/BidStatus/IsActive.jsx","components/BidStatus/NeverSold.jsx","components/BidStatus/IsSold.jsx","pages/OneArtwork.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","apiHandler","signup","userInfo","post","then","res","catch","signin","isLoggedIn","get","logout","delete","UpdateMyProfile","patch","getMyProfile","getMyCurrentBids","getMyCurrentSales","getMyCollection","getMyCreations","getSalesOn","getOneArtwork","id","getOneCreator","addAnArtwork","artworkInfo","getResults","query","getLastAuction","addABid","bidValue","addAnAuction","auctionInfo","closeAnAuction","auctionId","owner","deleteAuction","changePassword","passwords","updateAnArtwork","artworkId","artworkUpdated","deleteAnArtwork","UserContext","React","createContext","UserProvider","state","user","isLoading","setUser","setState","removeUser","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","SearchBar","handleEnter","evt","key","getSearchedValue","history","push","className","onChange","getInputSearch","target","onKeyDown","type","inputSearch","placeholder","withRouter","to","Fragment","onClick","component","rest","render","Footer","require","EthToDollars","USD","toFixed","err","ArtworkCard","auction","dollars","artwork","_id","prevProps","prevState","active","bids","length","initialPrice","src","image","alt","title","creator","username","Home","artworks","auctionTop","api","topArtwork","map","FormSignin","email","password","message","handleChange","event","name","handleSubmit","preventDefault","onSubmit","htmlFor","Signin","FormSignup","avatar","instagram","website","description","credit","DetailsOpen","handleFileChange","files","handleToggle","uploadData","FormData","append","required","min","maxLength","cols","rows","Signup","Credits","MyActivity","myCurrentBids","myCurrentSales","boolean","closeTheAuction","bidder","_artworkId","filter","bid","AddAnAuction","startingDate","newAuction","Date","now","closeForm","readOnly","MyCollection","myCollection","displaySellForm","artworkToSell","handleClickSell","initialValue","nameOfForm","getCollection","forSale","FormCreateAnArtwork","newArtwork","FormUpdateOneCreation","updatedArtwork","handleDelete","myCreations","displayAddForm","displayUpdateForm","artworkToUpdate","getCreations","handleClickAdd","handleClickUpdate","FormUpdate","isFormPwdDisplayed","formerPassword","newPassword","getTheUpdatedUser","displayFormPwd","handleChangePwd","networks","style","display","justifyContent","displayCrea","displayColl","displayAct","displayUpdate","handleClick","userInCallback","isActive","fontWeight","FormUpdateProfile","Artist","userId","match","params","href","rel","ArtistCard","artist","art","substring","Results","artworksMatch","artistsMatch","searchedValue","matchArtwork","matchArtist","margin","el","isFormOpen","isSubmit","currentInput","displayMessage","displayBidForm","Number","step","marginTop","color","NeverSold","IsSold","OneArtwork","otherArtworks","creatorId","selectArtworks","slice","getArtwork","getAuction","window","scrollTo","App","searchInput","clearInputSearch","exact","path","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5599c276.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nconst apiHandler = {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => {\n        return res.data\n      })\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  delete() {\n    return service\n      .get(\"/api/auth/delete\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  // Profile Calls\n  UpdateMyProfile(userInfo) {\n    return service\n      .patch(\"/api/profile/my-profile/update\", userInfo)\n      .then((res)=> {console.log(\"in ApiHandler\", res.data)\n      return res.data })  \n      .catch(errorHandler);\n  },\n  \n  getMyProfile(){\n    return service\n      .get(\"/api/profile/my-profile\")\n      .then((res)=>res.data)\n      .catch(errorHandler)\n  },\n\n  getMyCurrentBids(){\n    return service\n      .get(\"/api/profile/my-current-bids\")\n      .then((res)=>res.data)\n\n      .catch(errorHandler)\n  },\n\n  getMyCurrentSales(){\n    return service\n      .get(\"/api/profile/my-current-sales\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getMyCollection(){\n    return service\n    .get(\"/api/profile/my-collection\")\n    .then((res)=>res.data)\n    .catch(errorHandler);\n  },\n\n  getMyCreations(){\n    return service\n    .get(\"/api/profile/my-creations\")\n    .then((res)=>res.data)\n    .catch(errorHandler);\n  },\n\n   // Artworks Calls\n  getSalesOn() {\n    return service\n      .get(\"/api/artworks\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneArtwork(id) {\n    return service\n      .get(`/api/artworks/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  getOneCreator(id) {\n    return service\n      .get(`/api/artworks/artist/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  addAnArtwork(artworkInfo){\n    return service\n    .post('/api/artworks/new', artworkInfo)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  // fetch results from searchBar query\n  getResults(query) {\n    return service\n      .get(`/api/artworks/results?search=${query}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  //Auctions Call\n  getLastAuction(id) {\n    return service\n      .get(`/api/auctions/${id}/last-auction`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addABid(bidValue, id){\n    return service\n    .patch(`/api/auctions/${id}/new-bid`, {bidValue: bidValue} )\n    .then((res)=> {\n      console.log(\"AddaBid \", res.data)\n      return res.data })\n    .catch(errorHandler)\n  },\n\n  addAnAuction(auctionInfo){\n    return service\n    .post('/api/auctions/new', auctionInfo)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  closeAnAuction(auctionId, owner){\n    console.log('new owner id dans le api handler', owner)\n    return service\n    .patch(`/api/auctions/close-auction/${auctionId}`, owner)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  deleteAuction(auctionId) {\n    return service\n    .delete(`/api/auctions/${auctionId}`)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n  changePassword(passwords){\n    return service.patch('/api/auth/update-password', passwords)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n  updateAnArtwork(artworkId, artworkUpdated){\n    return service.patch(`/api/artworks/${artworkId}`, artworkUpdated)\n      \n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  deleteAnArtwork(artworkId){\n    return service.delete(`/api/artworks/${artworkId}`)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  }\n};\n\n\nexport default apiHandler;\n","import React from \"react\";\n\nexport const UserContext = React.createContext();\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { UserContext } from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  \n\n  setUser = (user) => {\n    console.log(user,\"user froM db\")\n    this.setState({ user, isLoggedIn: true })\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport { UserContext } from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// This component is not exported as default, so you have to import it\n// this way :\n// import { withUser } from \"../relative/path/to/this/file\"\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nclass SearchBar extends Component {\n  handleEnter = (evt) => {\n    if (evt.key === \"Enter\") {\n      this.props.getSearchedValue();\n      this.props.history.push(\"/results\");\n    }\n  };\n  render() {\n    return (\n      <div className=\"SearchBar\">\n        <input \n          onChange={(evt) => this.props.getInputSearch(evt.target.value)}\n          onKeyDown={this.handleEnter}\n          type=\"text\"\n          value={this.props.inputSearch}\n          placeholder=\"Search artworks or artists\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SearchBar);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\nimport SearchBar from \"./../components/SearchBar\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { context } = props;\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain text-focus-in\">\n      <Link to=\"/\">\n        <h3 className=\"logo\">.aaa</h3>\n      </Link>\n\n      <SearchBar           \n        getInputSearch={props.getInputSearch}\n        inputSearch={props.inputSearch}\n        getSearchedValue={props.getSearchedValue}/>\n      \n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <Link className=\"Btn-minimal black\" to=\"/profile\">\n                {/* {context.user && context.user.email} */}\n                Profile\n              </Link>\n            </li>\n            <li>\n              <button className=\"Btn-minimal\" onClick={handleLogout}>Logout</button>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <Link className=\"Btn-minimal black\" to=\"/signin\">Log in</Link>\n            </li>\n            <li>\n              <Link className=\"Btn-minimal black\" to=\"/signup\">Create account</Link>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React from 'react'\n\nconst Footer = () => {\n    return (\n        <footer className=\"flex\">\n            ©2021 Magali Fort | Thaïs Haugel | Romain Benard\n        </footer>\n    )\n}\n\nexport default Footer\n","const axios = require(\"axios\");\n\nfunction EthToDollars(value) {\n  return axios\n    .get(\n      \"https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=BTC,USD,EUR\"\n    )\n    .then((res) => {\n      return (res.data.USD * value).toFixed();\n    })\n    .catch((err) => console.log(err));\n}\n\nexport default EthToDollars\n","import React, { Component } from 'react'\nimport {Link} from \"react-router-dom\";\nimport apiHandler from \"./../api/apiHandler\";\nimport EthToDollars from \"./../controllers/EthToDollars\"\n\n// Styles\nimport \"../styles/ArtworkCard.css\"\n\nexport class ArtworkCard extends Component {\n    state={\n        auction: null,\n        dollars: null\n    }\n    componentDidMount(){\n        apiHandler.getLastAuction(this.props.artwork._id)\n        .then(data=> this.setState({auction: data}))\n        .catch(err=> console.log(err));\n    }\n    componentDidUpdate(prevProps, prevState){\n        if (this.state.auction && (prevState.auction !==this.state.auction)) {\n        if ((this.state.auction.active && this.state.auction.bids.length>0) || (this.state.auction && !this.state.auction.active)) {\n            EthToDollars(this.state.auction.bids[0].bidValue)\n            .then(res => this.setState({dollars: res}))\n            .catch(err=> console.log(err));\n            } else if (this.state.auction.active && this.state.auction.bids.length===0) {\n                EthToDollars(this.state.auction.initialPrice)\n                .then(res => this.setState({dollars: res}))\n                .catch(err=> console.log(err));\n            }\n        }\n    }\n    render() {\n        const {artwork} = this.props\n        const {auction, dollars} = this.state\n        // console.log(\"ArtworkCard state: \", this.state)\n        return (\n            <div className=\"ArtworkCard\">\n                <Link key={artwork._id} to={`/artworks/${artwork._id}`}>\n                    <img src={artwork.image} alt={`${artwork.title}`}/>\n                    <div className=\"details\">\n                        <h5>{artwork.title}</h5>\n                        <h6>{artwork.creator ? artwork.creator.username : \"former user of the platform\"}</h6>\n                        <div className=\"Bid-status\">\n                            {!auction && <p>Not for sale</p>}\n                            {auction && auction.active && auction.bids.length>0 &&(\n                            <><p>Current Price</p>\n                            <p className=\"Price\">{auction.bids[0].bidValue}<span className=\"Currency\">ETH</span></p>\n                            <p className=\"Dollars\">${dollars}</p></>)}\n                            {auction && auction.active && auction.bids.length===0 &&(\n                            <><p>Current Price</p>\n                            <p className=\"Price\">{auction.initialPrice}<span className=\"Currency\">ETH</span></p>\n                            <p className=\"Dollars\">${dollars}</p></>)}\n                            {auction && !auction.active && (\n                            <><p>Sold for</p>\n                            <p className=\"Price\">{auction.bids[0].bidValue}<span className=\"Currency\">ETH</span></p>\n                            <p className=\"Dollars\">${dollars}</p></>)}\n                            \n                        </div>\n                    </div>\n                </Link>\n            </div>\n        )\n    }\n}\n\nexport default ArtworkCard\n","import React from \"react\";\nimport api from \"../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport EthToDollars from \"./../controllers/EthToDollars\";\n// Components\nimport ArtworkCard from \"../components/ArtworkCard\";\n// Styles\nimport \"../styles/Home.css\";\nimport \"../styles/Animations.css\";\n\nclass Home extends React.Component {\n  state = {\n    artworks: null,\n    auctionTop: null,\n    dollars: null,\n  };\n  componentDidMount() {\n    api.getSalesOn().then((res) =>\n      this.setState({ artworks: res }, () => {\n        if (this.state.artworks.length > 0) {\n          api\n            .getLastAuction(this.state.artworks[0]._id)\n            .then((res) =>\n              this.setState({ auctionTop: res }, () => {\n                if (this.state.auctionTop.bids.length === 0) {\n                  EthToDollars(this.state.auctionTop.initialPrice)\n                    .then((res) => this.setState({ dollars: res }))\n                    .catch((err) => console.log(err));\n                } else {\n                  EthToDollars(this.state.auctionTop.bids[0].bidValue)\n                    .then((res) => this.setState({ dollars: res }))\n                    .catch((err) => console.log(err));\n                }\n              })\n            )\n            .catch((err) => console.log(err));\n        }\n      })\n    );\n  }\n\n  render() {\n    const { artworks, auctionTop, dollars } = this.state;\n\n    if (!artworks || !auctionTop) {\n      return <div></div>;\n    }\n    let [topArtwork, ...rest] = artworks;\n    return (\n      <div className=\"Home\">\n        {artworks.length > 0 && (\n          <section className=\"Top-artwork \">\n            <div className=\"Top-arwortk-Bg slide-in-top\"></div>\n            <div className=\"Top-artwork-infos slide-in-bottom\">\n              <h1>{topArtwork.title}</h1>\n              <h4>@{topArtwork.creator.username}</h4>\n\n              <div className=\"Bid-home\">\n                <h4>Current Bid</h4>\n                <p className=\"Price\">\n                  {auctionTop.bids.length === 0\n                    ? auctionTop.initialPrice\n                    : auctionTop.bids[0].bidValue}\n                  <span className=\"Currency\">ETH</span>\n                </p>\n                <p className=\"Dollars\">${dollars}</p>\n              </div>\n              <Link to={`/artworks/${topArtwork._id}`}>\n                <button className=\"Btn-black\">See the auction</button>\n              </Link>\n            </div>\n            <img className=\"Top-img-size slide-in-bottom delay\" src={topArtwork.image} alt=\"hey\" />\n          </section>\n        )}\n\n        <section className=\"Cards-gallery\">\n          <h3>Discover current auctions.</h3>\n          {artworks &&\n            rest.map((artwork) => (\n              <ArtworkCard key={artwork._id} artwork={artwork} />\n            ))}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withUser } from \"../Auth/withUser\";\n\nclass FormSignin extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.props.context.setUser(data);\n     \n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({message: \"Oups, Bad Credentials\"})\n      });\n  };\n\n  render() {\n    if (this.props.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n\n    return (\n      <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" name=\"email\" />\n        <label htmlFor=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" name=\"password\" />\n        <button className=\"Btn-black  \">Submit</button>\n        {this.state.message && <p className=\"Alert-message\">{this.state.message}</p>}\n\n      </form>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormSignin));\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return (\n    <div className=\"flex Auth-container\">\n      <h2>Connect to your account</h2>\n      <FormSignin />\n    </div>\n  )\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { withUser } from \"../Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\n\nclass FormSignup extends Component {\n  state = {\n    email: \"toto@gmail.com\",\n    password: \"toto\",\n    username:\"toto\",\n    avatar: \"https://cdn.boldomatic.com/content/post/fl4sZw/LOVE-ME-I-M-AN-ARTIST?size=800\",\n    instagram:\"\",\n    website:\"\",\n    description:\"\",\n    credit:0,\n    DetailsOpen: false,\n    message: \"\"\n  };\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleFileChange = (event) => {\n\n    console.log(\"The file added by the use is: \", event.target.files[0]);\n    this.setState({\n      avatar: event.target.files[0],\n    });\n  };\n\n  handleToggle = () => {\n    this.setState({DetailsOpen: !this.state.DetailsOpen})\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const uploadData = new FormData();\n    uploadData.append(\"email\", this.state.email);\n    uploadData.append(\"password\", this.state.password);\n    uploadData.append(\"username\", this.state.username);\n    uploadData.append(\"avatar\", this.state.avatar);\n    uploadData.append(\"instagram\", this.state.instagram);\n    uploadData.append(\"website\", this.state.website);\n    uploadData.append(\"description\", this.state.description);\n    uploadData.append(\"credit\", this.state.credit);\n\n\n    apiHandler\n      .signup(uploadData)\n      .then((data) => {\n        console.log('this.props.context', this.props.context)\n        this.props.context.setUser(data)\n       // this.props.history.push(\"/profile\" )\n        \n      })\n      \n      .catch((error) => {\n        this.setState({message: \"Oups, email or username already exist\"})\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.props.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n    console.log(\"message is\", this.state.message)\n\n    return (\n      <form  onSubmit={this.handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n        />\n        <label htmlFor=\"password\">Password</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.password}\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n        />\n        <label htmlFor=\"username\">Username</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.username}\n          type=\"text\"\n          id=\"username\"\n          name=\"username\"\n        />\n        \n        <label htmlFor=\"credit\">Credits</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.credit}\n          type=\"number\"\n          id=\"credit\"\n          name=\"credit\"\n          min=\"0\"\n        />\n\n        \n\n        <button className=\"Btn-minimal\" onClick={this.handleToggle}>{this.state.DetailsOpen ? \"Close\" : \"Add more infos\"}</button>\n\n        { this.state.DetailsOpen && \n          <React.Fragment>\n            <label htmlFor=\"avatar\">Avatar</label>\n            <input\n              onChange={this.handleFileChange}\n              type=\"file\"\n              id=\"avatar\"\n              name=\"avatar\"\n            />\n\n            <label htmlFor=\"instagram\">Instagram</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.instagram}\n              type=\"text\"\n              id=\"instagram\"\n              name=\"instagram\"\n            />\n            <label htmlFor=\"website\">Website</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.website}\n              type=\"text\"\n              id=\"website\"\n              name=\"website\"\n            />\n            <label htmlFor=\"description\">Description</label>\n            <textarea\n              onChange={this.handleChange}\n              value={this.state.description}\n              type=\"text\"\n              id=\"description\"\n              name=\"description\"\n              maxLength=\"300\"\n              cols=\"30\" \n              rows=\"7\"\n            >\n            Description\n            </textarea>\n          </React.Fragment>\n        }  \n        <button className=\"Btn-black\">Submit</button>\n        {this.state.message && <p className=\"Alert-message\">{this.state.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormSignup));\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return (\n    <div className=\"flex Auth-container\">\n      <h2>Create your account</h2>\n      <FormSignup />\n    </div>\n  )\n};\n\nexport default Signup;\n","import React, { Component } from 'react'\n// import {withUser} from './Auth/withUser'\nimport EthToDollars from '../controllers/EthToDollars'\n\nexport class Credits extends Component {\n    state = {\n        credit: null\n    }\n\n    componentDidMount() {\n        EthToDollars(this.props.user.credit)\n        .then(res => {\n            this.setState({credit: res})\n        })\n    }\n\n    // componentDidUpdate(prevProps,prevState){\n    //     console.log('coucou romain')\n    //     if (prevProps.context.user.credit!==this.props.context.user.credit){\n    //       this.setState({credit : this.props.context.user.credit})\n    //     }\n    //   }\n\n    render() {\n        const {user} = this.props\n        const {credit} = this.state\n       \n        return (\n            <div className=\"Profile-credits\">\n                <h4>Credits</h4>\n                <p className=\"Price\">{user.credit}<span className=\"Currency\">ETH</span></p>\n                <p className=\"Dollars\">${credit}</p>\n          </div>\n        )\n    }\n}\n\nexport default Credits\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withUser } from \"../../components/Auth/withUser\";\nimport {Link} from 'react-router-dom'\nimport { withRouter} from \"react-router-dom\";\n\n\n\n\nclass MyActivity extends Component {\n    state={\n        myCurrentBids: null,\n        myCurrentSales: null,\n        boolean: true // is toggled when auction is closed\n    }\n\n    closeTheAuction=(auction)=>{\n        if (auction.bids[0]) { // if there is at least one bid, new owner is last bidder\n        apiHandler\n        .closeAnAuction(auction._id,{owner : auction.bids[0].bidder._id } )\n        .then(()=>this.setState({boolean : !this.state.boolean}))\n        .catch(err=>console.log(err))\n        } else { // if no one has bidded yet, auction is deleted\n        apiHandler\n        .deleteAuction(auction._id)\n        .then(()=>this.setState({boolean : !this.state.boolean}))\n        .catch(err=>console.log(err))\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if (prevState.myCurrentSales){\n            if (prevState.boolean!==this.state.boolean){\n                apiHandler\n                .getMyCurrentSales()\n                .then((data) => {\n                this.setState({myCurrentSales : data})\n                })\n                .catch(err=>console.log(err))\n                }\n        } \n    }\n\n    componentDidMount(){      \n        apiHandler\n        .getMyCurrentBids()\n        .then((data) => {\n        this.setState({myCurrentBids : data})\n        })\n        .catch(err=>console.log(err))\n        apiHandler\n        .getMyCurrentSales()\n        .then((data) => {\n        this.setState({myCurrentSales : data})\n        })\n        .catch(err=>console.log(err))\n    }\n\n    render() {\n        if (!this.state.myCurrentSales || !this.state.myCurrentBids || !this.props.context.user ){return <div>Loading...</div>}\n        // console.log(this.state.myCurrentBids)\n        return (\n        <div>\n            <div>\n                <h3>My current bids</h3>\n                {this.state.myCurrentBids.length===0 && <p>You haven't bid on any artwork lately.</p>}\n\n                <table className=\"Profile-table\">\n                    <tbody>\n                        {this.state.myCurrentBids.map((auction)=>{\n                            return <tr key={auction._id}>\n                                <td>\n                                    <Link to={`artworks/${auction._artworkId._id}`}>\n                                        <img className=\"Miniature\" src={auction._artworkId.image} alt={auction._artworkId.title}/>\n                                    </Link>\n                                </td>\n                                <td>\n                                    <Link to={`artworks/${auction._artworkId._id}`}>\n                                        {auction._artworkId.title}\n                                    </Link>\n                                    <p>\n                                        Current bid: ${auction.bids[0].bidValue} |\n                                        {auction.bids.filter((bid)=> bid.bidder._id === this.props.context.user._id).length > 0 \n                                        && ` My last bid: ${auction.bids.filter((bid)=>bid.bidder._id === this.props.context.user._id)[0].bidValue}`} \n                                    </p>\n                                </td>\n                            </tr>\n                        })}\n                    </tbody>\n                </table>\n            </div>\n\n            <div>\n            <h3>My current Sales</h3>\n            {this.state.myCurrentSales.length===0 && <p>You don't have any sales in progress, you can add an auction at anytime.</p>}\n            <table className=\"Profile-table Activity\">\n                <tbody>\n                    {this.state.myCurrentSales.map((auction)=>{\n                        return (\n                          <tr key={auction._id}>\n                            <td>\n                              <Link to={`artworks/${auction._artworkId._id}`}>\n                                <img\n                                  className=\"Miniature\"\n                                  src={auction._artworkId.image}\n                                  alt={auction._artworkId.title}\n                                />\n                              </Link>\n                            </td>\n                            <td>\n                              <Link to={`artworks/${auction._artworkId._id}`}>\n                                {auction._artworkId.title}\n                              </Link>\n                              {auction.bids[0] ? (\n                                <p>\n                                  Current bid: ${auction.bids[0].bidValue} |\n                                  Placed by: {auction.bids[0].bidder.username}\n                                </p>\n                              ) : (\n                                <p>No bid yet</p>\n                              )}\n                            </td>\n                            <td></td>\n                            <td>\n                              <button\n                                onClick={() => this.closeTheAuction(auction)}\n                                className=\"Btn-minimal\"\n                              >\n                                Close auction\n                              </button>\n                            </td>\n                          </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n            \n            </div> \n        </div>\n        )\n    }\n}\n\nexport default withUser (withRouter(MyActivity))","import React, { Component } from 'react'\nimport { withUser } from \"../../components/Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withRouter} from \"react-router-dom\";\n\n\n\nclass AddAnAuction extends Component {\n\n    state={\n        initialPrice:0,\n        startingDate: null\n    }\n\n    handleSubmit=(event)=>{\n        event.preventDefault()\n        const newAuction={\n            initialPrice: this.state.initialPrice,\n            _artworkId : this.props.artwork._id,\n            startingDate: Date.now()\n        }\n\n        apiHandler\n        .addAnAuction(newAuction)\n        .then(()=>{\n            this.props.closeForm(\"displaySellForm\");\n            console.log('created!')})\n        .catch(err=>console.log(err))\n\n\n    }\n\n    handleChange=(event)=>{\n    this.setState({initialPrice: event.target.value })\n    }   \n\n    render() {\n        return (\n            <section>\n                <h3>Create an auction</h3>\n                <form onSubmit={this.handleSubmit}>\n                    <input required type=\"text\"  readOnly value={this.props.artwork.title}/>\n                    <input required id=\"initialPrice\" onChange={this.handleChange} name=\"initialPrice\" value={this.state.initialPrice} type=\"number\" placeholder=\"Initial price\"/>\n                    <button className=\"Btn-black\">Create</button> \n                </form>\n            </section>\n        )\n    }\n}\n\nexport default withRouter(withUser(AddAnAuction))\n","import React, {Component} from 'react'\nimport apiHandler from \"../../api/apiHandler\";\nimport {Link} from 'react-router-dom'\nimport AddAnAuction from \"../../components/Forms/AddAnAuction\";\n\n\n\n\nclass MyCollection extends Component {\n    state={\n        myCollection: null,\n        displaySellForm:false,\n        artworkToSell : null, \n    }\n\n    getCollection () {\n        apiHandler\n        .getMyCollection()\n        .then((data) => {\n        this.setState({myCollection : data})\n        })\n        .catch(err=>console.log(err))\n    }\n    componentDidMount(){\n        this.getCollection()\n    }\n    handleClickSell=(artwork)=>{\n        this.setState({displaySellForm : true, artworkToSell:artwork })\n    }\n        \n    handleChange=(event)=>{\n        this.setState({initialValue: event.target.value })\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.displaySellForm!==this.state.displaySellForm) {\n            this.getCollection()\n        }\n      };\n      \n      closeForm = (nameOfForm) => {\n        this.setState({[nameOfForm]: false})\n      };\n\nrender(){\n    if (!this.state.myCollection){return <div>Loading...</div>}\n    // console.log(\"my collection state: \",this.state)\n    return (\n        <div className=\"flex\">\n\n            {this.state.myCollection.length===0 && <p>You don't have any artwork in your collection, buy some !</p>}\n\n            <table className=\"Profile-table\">\n                <tbody>\n                    {this.state.myCollection.map((artwork)=>{\n                        return (\n                        <tr key={artwork._id}> \n                            <td>\n                                <Link to={`artworks/${artwork._id}`}><img className=\"Miniature\" src={artwork.image} alt={artwork.title}/></Link>\n                            </td>\n                            <td>\n                            <Link to={`artworks/${artwork._id}`}>{artwork.title} <span>by {artwork.creator.username}</span></Link>\n                            </td>\n                            <td>\n                            {artwork.forSale===false? <button onClick={()=>this.handleClickSell(artwork)}>\n                                <img className=\"Btn-icon\" src=\"img/auction-btn.svg\" alt=\"auction-btn\" />\n                            </button> : <p>Auction<br/>in progress</p>}\n                            </td>\n                        </tr> )\n                    })}    \n                </tbody>\n            </table>\n\n            {this.state.displaySellForm && <AddAnAuction  artwork={this.state.artworkToSell} closeForm={this.closeForm}/>}\n        </div>\n    )\n}\n\n    \n}\n\nexport default MyCollection\n","import React, { Component } from 'react'\nimport apiHandler from \"../../api/apiHandler\";\n//CSS\nimport \"../../styles/Profile.css\"\n\n\nexport default class FormCreateAnArtwork extends Component {\n    state = {\n        \n        title: \"\",\n        description: \"\",\n        image: \"\",\n        \n      };\n\n\n    handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({ [name]: value });\n      };\n\n      handleFileChange = (event) => {\n\n        // console.log(\"The file added by the use is: \", event.target.files[0]);\n        this.setState({\n          image: event.target.files[0],\n        });\n      };\n\n      handleSubmit = (event) => {\n        event.preventDefault()\n        const newArtwork= new FormData()\n        newArtwork.append(\"title\", this.state.title)\n        newArtwork.append(\"description\", this.state.description)\n        newArtwork.append(\"image\", this.state.image)\n    \n        apiHandler\n      .addAnArtwork(newArtwork)\n      .then(()=>{\n        this.props.closeForm(\"displayAddForm\")\n        console.log('artwork created!')})\n      .catch(err=>console.log(err))\n      };\n\n    render() {\n        return (\n            <section>\n            <h3>Add an artwork</h3>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                id=\"title\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.handleChange}\n                type=\"text\"\n                placeholder=\"Title\"\n              />\n            <textarea \n              onChange={this.handleChange}\n              value={this.state.description}\n              type=\"text\"\n              id=\"description\"\n              name=\"description\" \n              placeholder=\"Description\"\n              cols=\"30\" \n              rows=\"7\"\n            >\n              \n            </textarea>\n              <input\n                id=\"image\"\n                name=\"image\"\n                onChange={this.handleFileChange}\n                type=\"file\"\n                placeholder=\"Upload the image\"\n              />\n\n            <button className=\"Btn-black\">Create</button>\n            </form>\n          </section>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport apiHandler from \"../../api/apiHandler\";\n//CSS\nimport \"../../styles/Profile.css\"\n\n\nexport default class FormUpdateOneCreation extends Component {\n    state = {\n        artwork: \"\",\n        title: \"\",\n        description: \"\",\n        image: \"\",\n      };\n\n    componentDidMount() {\n      this.setState({\n        artwork: this.props.artwork,\n        title: this.props.artwork.title,\n        description: this.props.artwork.description,\n        image: this.props.artwork.image,\n      })\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.artwork._id !== this.props.artwork._id) {\n          this.setState({\n            artwork: this.props.artwork,\n            title: this.props.artwork.title,\n            description: this.props.artwork.description,\n            image: this.props.artwork.image,\n          })\n        }\n      }\n\n    handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({ [name]: value });\n      };\n\n      handleFileChange = (event) => {\n        this.setState({\n          image: event.target.files[0],\n        });\n      };\n\n      handleSubmit = (event) => {\n          event.preventDefault()\n        const updatedArtwork= new FormData()\n        updatedArtwork.append(\"title\", this.state.title)\n        updatedArtwork.append(\"description\", this.state.description)\n        updatedArtwork.append(\"image\", this.state.image)\n    \n        apiHandler\n      .updateAnArtwork(this.state.artwork._id, updatedArtwork)\n      .then(()=>{console.log('artwork updated!')\n        this.props.closeForm(\"displayUpdateForm\")})\n      .catch(err=>console.log(err))\n      };\n\n      handleDelete=()=>{\n          apiHandler\n          .deleteAnArtwork(this.state.artwork._id)\n          .then(()=>{console.log('artwork deleted!')\n          this.props.closeForm(\"displayUpdateForm\")})\n          .catch(err=>console.log(err))\n      }\n\n    render() {\n        const {title, description} = this.state\n        \n        return (\n            <section>\n            <h3>Update an artwork</h3>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                id=\"title\"\n                name=\"title\"\n                value={title}\n                onChange={this.handleChange}\n                type=\"text\"\n                placeholder=\"Title\"\n              />\n            <textarea \n              onChange={this.handleChange}\n              value={description}\n              type=\"text\"\n              id=\"description\"\n              name=\"description\" \n              placeholder=\"Description\"\n              cols=\"30\" \n              rows=\"7\"\n            >\n              \n            </textarea>\n              <input\n                id=\"image\"\n                name=\"image\"\n                onChange={this.handleFileChange}\n                type=\"file\"\n                placeholder=\"Upload the image\"\n              />\n\n            <button className=\"Btn-black\">Update</button>\n            </form>\n            <button className=\"Btn-minimal\" onClick={this.handleDelete}>Delete</button>\n          </section>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { Link} from \"react-router-dom\";\nimport AddAnAuction from \"../../components/Forms/AddAnAuction\";\nimport FormCreateAnArtwork from \"./FormCreateAnArtwork\";\nimport FormUpdateOneCreation from \"./FormUpdateOneCreation\";\n\nimport apiHandler from \"../../api/apiHandler\";\nimport {withUser} from \"./../../components/Auth/withUser\";\n\n//CSS\nimport \"../../styles/Profile.css\";\n\nclass MyCreations extends Component {\n  state = {\n    myCreations: null,\n    displayAddForm: false,\n    displayUpdateForm: false,\n    displaySellForm: false,\n    artworkToSell: null,\n    artworkToUpdate: null,\n    message: \"\",\n  };\n  getCreations = () => {\n    apiHandler\n    .getMyCreations()\n    .then((data) => {\n      this.setState({ myCreations: data });\n    })\n    .catch((err) => console.log(err));\n  }\n  componentDidMount() {\n    this.getCreations()\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.displayAddForm !== this.state.displayAddForm ||\n      prevState.displaySellForm !== this.state.displaySellForm ||\n      prevState.displayUpdateForm !== this.state.displayUpdateForm\n    ) this.getCreations()\n  }\n\n  handleClickSell = (artwork) => {\n    this.setState({ displaySellForm: true, displayUpdateForm: false, displayAddForm: false, artworkToSell: artwork });\n  };\n\n  handleClickAdd = () => {\n    this.setState({ displayAddForm: true, displayUpdateForm: false, displaySellForm: false, });\n  };\n\n  handleClickUpdate = (artwork) => {\n    this.setState({ displayUpdateForm: true, displayAddForm: false, displaySellForm: false, artworkToUpdate: artwork });\n  };\n\n\n  closeForm = (nameOfForm) => {\n    this.setState({ [nameOfForm]: false });\n  };\n\n  render() {\n    if (!this.state.myCreations) {\n      return <div>Loading...</div>;\n    }\n    // console.log(this.state);\n    return (\n      <div className=\"flex\">\n        <section>\n          {this.state.myCreations.length === 0 && (\n            <p>You don't have any creation, add some !</p>\n          )}\n          {this.state.message && (\n            <p className=\"Sucess-message\">{this.state.message}</p>\n          )}\n          <table className=\"Profile-table\">\n            <tbody>\n              {this.state.myCreations.map((artwork) => {\n                return (\n                  <tr key={artwork._id}>\n                    <td>\n                      <Link to={`artworks/${artwork._id}`}>\n                        <img\n                          className=\"Miniature\"\n                          src={artwork.image}\n                          alt={artwork.title}\n                        />\n                      </Link>\n                    </td>\n                    <td>\n                      <Link to={`artworks/${artwork._id}`}>\n                        {artwork.title}\n                      </Link>\n                    </td>\n                    <td>\n                      {artwork.owner=== this.props.context.user._id &&<button onClick={() => this.handleClickUpdate(artwork)}>\n                        <img\n                          className=\"Btn-icon edit\"\n                          src=\"img/edit-btn.svg\"\n                          alt=\"auction-btn\"\n                        />\n                      </button>}\n                    </td>\n                    <td>\n                      {artwork.creator=== artwork.owner? (\n                        artwork.forSale === false ? (\n                          <button onClick={() => this.handleClickSell(artwork)}>\n                            <img\n                              className=\"Btn-icon\"\n                              src=\"img/auction-btn.svg\"\n                              alt=\"auction-btn\"\n                            />\n                          </button>\n                        ) : (\n                            <p>Auction<br/>in progress</p>\n                        )\n                      ) : (\n                        <p>Sold</p>\n                      )}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <button className=\"Btn-black\" onClick={this.handleClickAdd}>\n            Add an artwork\n          </button>\n        </section>\n\n        {this.state.displaySellForm && (\n          <AddAnAuction\n            artwork={this.state.artworkToSell}\n            closeForm={this.closeForm}\n          />\n        )}\n\n        {this.state.displayAddForm && (\n          <FormCreateAnArtwork closeForm={this.closeForm} />\n        )}\n\n        {this.state.displayUpdateForm && (\n          <FormUpdateOneCreation\n            closeForm={this.closeForm}\n            artwork={this.state.artworkToUpdate}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withUser(MyCreations);\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { withUser } from \"../../components/Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\n\n\nclass FormUpdate extends Component {\n  state = {\n    email: \"\",\n    username: \"\",\n    avatar: \"\",\n    instagram: \"\",\n    website: \"\",\n    description: \"\",\n    credit: 0,\n    isFormPwdDisplayed: false,\n    formerPassword: \"\",\n    newPassword: \"\",\n    message: \"\",\n  \n  };\n\n  componentDidMount() {\n    apiHandler\n      .getMyProfile()\n      .then((data) => this.setState({\n        email: data.email,\n        username: data.username,\n        avatar: data.avatar,\n        description: data.description,\n        credit: data.credit,\n        instagram: data.networks.instagram,\n        website: data.networks.website\n\n      }))\n      .catch((err) => console.log(err));\n  }\n\n    //  componentDidUpdate(prevProps,prevState){\n    //     console.log(prevProps.context.user.credit, this.props.context.user.credit)\n    //     if (prevProps.context.user.credit!==this.props.context.user.credit){\n    //       console.log(this.props.context.user.credit)\n    //     }\n    //   }\n\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleFileChange = (event) => {\n    console.log(\"The file added by the use is: \", event.target.files[0]);\n    this.setState({\n      avatar: event.target.files[0],\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const uploadData = new FormData();\n    uploadData.append(\"email\", this.state.email);\n    uploadData.append(\"username\", this.state.username);\n    uploadData.append(\"avatar\", this.state.avatar);\n    uploadData.append(\"instagram\", this.state.instagram);\n    uploadData.append(\"website\", this.state.website);\n    uploadData.append(\"description\", this.state.description);\n    uploadData.append(\"credit\", this.state.credit);\n\n  \n\n    apiHandler\n      .UpdateMyProfile(uploadData)\n      .then(data => {\n        console.log(data)\n        this.props.getTheUpdatedUser(data)\n        this.setState({message: \"Successfully Updated\" });\n      })\n      .catch(error => console.log(error))\n  };\n\n  displayFormPwd = () => {\n    this.setState({ isFormPwdDisplayed: !this.state.isFormPwdDisplayed })\n  }\n\n  handleChangePwd = (event) => {\n    event.preventDefault()\n    let passwords = {\n      formerPassword: this.state.formerPassword,\n      newPassword: this.state.newPassword\n    }\n\n    apiHandler\n      .changePassword(passwords)\n      .then(() => {\n        console.log('successfully changed')\n        this.setState({ isFormPwdDisplayed: !this.state.isFormPwdDisplayed, newPassword: \"\", formerPassword: \"\", message: \"password successfully changed\" })\n      })\n      .catch(err => console.log(err))\n\n  }\n\n  // handleDelete = () => {\n  //   apiHandler.delete()\n  //     .then(data => {\n  //       window.location.reload()\n  //     }\n  //     )\n  //     .catch(err => console.log(err))\n  // }\n\n  render() {\n    console.log(\"credit\", this.props.context.user.credit)\n    return (\n      <div style={{ display: \"flex\", justifyContent: \"space-evenly\" }}>\n        {/* <h3>Parameters</h3> */}\n        <form onSubmit={this.handleSubmit}>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.email}\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            required\n          />\n          <label htmlFor=\"username\">Username</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.username}\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            required\n          />\n\n\n          <label htmlFor=\"description\">Description</label>\n          <textarea\n            onChange={this.handleChange}\n            value={this.state.description}\n            type=\"text\"\n            id=\"description\"\n            name=\"description\"\n            maxLength=\"300\"\n            cols=\"30\"\n            rows=\"7\"\n          >\n            description\n          </textarea>\n\n          <label htmlFor=\"networks\">Networks</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.instagram}\n            type=\"text\"\n            id=\"networks\"\n            name=\"instagram\"\n            placeholder=\"instagram\"\n          />\n          <input\n            onChange={this.handleChange}\n            value={this.state.website}\n            type=\"text\"\n            id=\"networks\"\n            name=\"website\"\n            placeholder=\"website\"\n          />\n          <label htmlFor=\"avatar\">Avatar</label>\n          <img className=\"Miniature\" src={this.state.avatar} alt=\"\" />\n          <input\n            onChange={this.handleFileChange}\n            type=\"file\"\n            id=\"avatar\"\n            name=\"avatar\"\n          />\n\n          <label htmlFor=\"credit\">Credits</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.credit}\n            type=\"number\"\n            id=\"credit\"\n            name=\"credit\"\n            min=\"0\"\n\n          />\n\n          <button className=\"Btn-black\" >Update</button>\n          {this.state.message && <p className=\"Success-message\">{this.state.message}</p>}\n\n        </form>\n\n        {/* <button onClick={this.handleDelete} className=\"Btn-minimal\" >delete your account</button> */}\n\n        <div>\n          {!this.state.isFormPwdDisplayed && <button onClick={this.displayFormPwd} className=\"Btn-black\">Change your password</button>}\n          {this.state.isFormPwdDisplayed && <form onSubmit={this.handleChangePwd}>\n            <label htmlFor=\"formerPassword\">Former password</label>\n            <input name=\"formerPassword\" onChange={this.handleChange} id=\"formerPassword\" type=\"password\" placeholder=\"former password\"\n              value={this.state.formerPassword} />\n\n            <label htmlFor=\"newPassword\">New password</label>\n            <input name=\"newPassword\" onChange={this.handleChange} id=\"newPassword\" type=\"password\" placeholder=\"new password\"\n              value={this.state.newPassword} />\n\n            <button className=\"Btn-black\">Update password</button>\n\n          </form>}\n          {this.state.message && <p className=\"Success-message\">{this.state.message}</p>}\n        </div>\n\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormUpdate));\n","import React, {Component} from \"react\";\nimport {withUser} from '../components/Auth/withUser'\nimport Credits from \"./../components/Credits\";\nimport MyActivity from \"./SubProfilePages/MyActivity\";\nimport MyCollection from \"./SubProfilePages/MyCollection\";\nimport MyCreations from \"./SubProfilePages/MyCreations\";\nimport FormUpdateProfile from \"./SubProfilePages/FormUpdateProfile\";\n\n//CSS\nimport \"../styles/Profile.css\"\n\nclass Profile extends Component {\n\n  state={\n    displayCrea : false,\n    displayColl:false,\n    displayAct:true,\n    displayUpdate:false,\n    user : null\n  }  \n\n  handleClick =(event)=>{\n    if (this.state[event.target.id]===false){\n    this.setState ({\n      displayCrea : false,\n      displayColl:false,\n      displayAct:false,\n      displayUpdate:false\n    })\n  this.setState ({[event.target.id] : !this.state[event.target.id]})}\n  }\n  \n  getTheUpdatedUser=(userInCallback)=>{\n    console.log('voici mon nouveau user', userInCallback)\n    this.setState({user: userInCallback})\n  }\n  \n  componentDidMount(){\n    this.setState({user: this.props.context.user})\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.user){\n      if (prevState.user.credit!==this.state.user.credit ||prevState.user.avatar!==this.state.user.avatar ){\n      this.setState({user:this.state.user})\n        console.log('kiki')}\n    }\n  }\n\n  render(){\n    // console.log(\"profile state: \",this.state)\n    // const {user} = this.props.context\n    const {displayCrea, displayColl, displayAct, displayUpdate, user} = this.state\n    if (!user){return <div>Loading</div>}\n\n    const isActive = { fontWeight: \"500\" }\n    return (\n      <div className=\"Profile\">\n        <header className=\"flex\">\n          <div className=\"Profile-title flex\">\n            <img className=\"Avatar\" src={user.avatar} alt=\"user avatar\" />\n            <h1>Profile</h1>\n            <img\n              id=\"displayUpdate\"\n              onClick={this.handleClick}\n              src=\"img/edit-btn.svg\"\n              alt=\"edit-icon\"\n            />\n          </div>\n          <Credits user={user} />          \n        </header>\n        \n        <nav className=\"Profile-nav\">\n          <ul>\n            <li\n              id=\"displayCrea\"\n              style={displayCrea ? isActive : null}\n              onClick={this.handleClick}\n            >\n              My Creations\n            </li>\n            <span>|</span>\n            <li\n              id=\"displayColl\"\n              style={displayColl ? isActive : null}\n              onClick={this.handleClick}\n            >\n              My Collection\n            </li>\n            <span>|</span>\n            <li\n              id=\"displayAct\"\n              style={displayAct ? isActive : null}\n              onClick={this.handleClick}\n            >\n              My Activity\n            </li>\n          </ul>\n        </nav>\n        { displayCrea && <MyCreations /> }\n        { displayColl && <MyCollection /> }\n        { displayAct && <MyActivity /> }\n        { displayUpdate && <FormUpdateProfile getTheUpdatedUser={this.getTheUpdatedUser}/> }\n      </div>\n    );\n  }\n  \n};\n\nexport default withUser(Profile);\n","import React, { Component } from \"react\";\nimport api from \"../api/apiHandler\";\nimport ArtworkCard from \"../components/ArtworkCard\";\n\nexport default class Artist extends Component {\n  state = {\n    artworks: null,\n  };\n  componentDidMount() {\n    const userId = this.props.match.params.id;\n    api\n      .getOneCreator(userId)\n      .then((res) => this.setState({ artworks: res }))\n      .catch((err) => console.log(err));\n  }\n  render() {\n    const {artworks} = this.state\n    if (!artworks) return <h3>Loading</h3>;\n    return (\n      <div>\n        <section className=\"Top-artwork\" >\n          <div className=\"Top-details Artist\">\n            <h1>{artworks[0].creator.username}</h1>\n            <p>{artworks[0].creator.description}</p>\n\n            <div>\n              {artworks[0].creator.networks.instagram && (\n                <a\n                  href={artworks[0].creator.networks.instagram}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Instagram\n                </a>\n              )}\n              { artworks[0].creator.networks.website && (\n                  <React.Fragment>\n                    <span> | </span>\n                    <a\n                      href={artworks[0].creator.networks.website}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Website\n                    </a>\n                  </React.Fragment>\n                )}\n            </div>\n          </div>\n          <div>\n            <img className=\"Avatar-img\" src={artworks[0].creator.avatar} alt={artworks[0].creator.username} />\n          </div>\n        </section>\n\n        <section className=\"More-artworks\">\n          <h4 className=\"\">Creations</h4>\n          <section className=\"Cards-gallery\">\n            {artworks.map((artwork) => (\n                <ArtworkCard key={artwork._id} artwork={artwork} />\n              ))}\n          </section>\n        </section>\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport {Link} from \"react-router-dom\";\n\nconst ArtistCard = (props) => {\n    const artist = props.art.creator\n    return (\n        <div className=\"ArtworkCard\">\n        <Link key={artist._id} to={`/artist/${artist._id}`}>\n            <img src={artist.avatar} alt={`${artist.username}`}/>\n            <div className=\"details\">\n                <h5>{artist.username}</h5>\n                <h6>{artist.description.substring(0,50)}...</h6>\n            </div>\n        </Link>\n    </div>\n    )\n}\n\nexport default ArtistCard\n","import React, { Component } from \"react\";\nimport apiHandler from \"../api/apiHandler\";\nimport ArtistCard from \"./../components/ArtistCard\";\nimport ArtworkCard from \"../components/ArtworkCard\";\n\n//styles\nimport \"./../styles/Results.css\"\n\nexport default class Results extends Component {\n  state = {\n    artworksMatch: null,\n    artistsMatch: null\n  };\n  componentDidMount() {\n    apiHandler\n      .getResults(this.props.searchedValue)\n      .then((data) => {\n        this.setState({ artworksMatch: data.matchArtwork});\n        this.setState({ artistsMatch: data.matchArtist});\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchedValue !== this.props.searchedValue) {\n      apiHandler\n        .getResults(this.props.searchedValue)\n        .then((data) => {\n          this.setState({ artworksMatch: data.matchArtwork});\n          this.setState({ artistsMatch: data.matchArtist});\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n  render() {\n    if (!this.state.artworksMatch || !this.state.artistsMatch) return <h3>Loading</h3>;\n    return (\n      <div>\n          <section className=\"results\">\n          <h2>Results for: <span className=\"searched-keyword\">{this.props.searchedValue}</span></h2>\n          </section>\n            {/* Artist section */}\n            <h3 style={{margin: \"20px 70px\"}}>Artists</h3>\n          <section className=\"Cards-gallery\">\n          {this.state.artistsMatch.length === 0 ? <p>No results</p> : \n            this.state.artistsMatch.map(el => \n              <ArtistCard key={el._id} art={el} />)}\n          </section>\n            {/* Artwork section */}\n              <h3 style={{margin: \"20px 70px\"}}>Artworks</h3>\n            <section className=\"Cards-gallery\">\n            {this.state.artworksMatch.length === 0 ? <p>No results</p> : \n            this.state.artworksMatch.map((el) => (\n              <ArtworkCard key={el._id} artwork={el} />\n            ))}\n            </section>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport \"../../styles/BidStatus.css\";\nimport {withUser} from './../Auth/withUser';\nimport EthToDollars from \"./../../controllers/EthToDollars\";\n\nexport class IsActive extends Component {\n  state = {\n    isFormOpen: false,\n    isSubmit: false,\n    bidValue: 0,\n    currentInput: \"\",\n    message:\"\",\n    displayMessage : false,\n    dollars: null\n  };\n\n  componentDidMount() {\n    if (this.props.auction.bids.length>0) {\n      this.setState({ bidValue: this.props.auction.bids[0].bidValue })\n    } else {\n      this.setState({bidValue : this.props.auction.initialPrice })\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.auction._id !== this.props.auction._id ) {\n      if (this.props.auction.bids.length>0) {\n        this.setState({ bidValue: this.props.auction.bids[0].bidValue })\n      } else {\n        this.setState({bidValue : this.props.auction.initialPrice })\n      }\n    }\n    if (prevState.bidValue !== this.state.bidValue) {\n      EthToDollars(this.state.bidValue)\n      .then(res => this.setState({dollars: res}))\n      .catch(err=> console.log(err));\n    }\n  }\n\n\n  displayBidForm = () => {\n    if (this.props.context.user){\n    this.setState({ isFormOpen: !this.state.isFormOpen, isSubmit: false });}\n    else{this.setState({message : \"You have to log in to place a bid\", displayMessage : !this.state.displayMessage})}\n  };\n\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    this.setState({ currentInput: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // this.setState({ bidValue: this.state.currentInput, isFormOpen: false, isSubmit: true }, () => {\n    //   apiHandler\n    //     .addABid(this.state.bidValue, this.props.auction._id)\n    //     .then(this.setState({ currentInput: this.state.bidValue + 0.01 }))\n    //     .catch((err) => console.log(err));\n    // });\n\n    if (this.state.currentInput){\n      this.setState({ bidValue: this.state.currentInput, isFormOpen: !this.state.isFormOpen, isSubmit: true},  () => {\n        apiHandler\n          .addABid(this.state.bidValue, this.props.auction._id)\n          .then((res) => {\n            console.log(res)\n            this.setState({message:\"Thanks for your bid\", displayMessage: true})})\n          .catch((err) => console.log(err));\n      });\n    }\n    \n  };\n\n  render() {\n    const { isFormOpen, isSubmit, bidValue, currentInput, message, displayMessage, dollars } = this.state;\n\n    return (\n      <div className=\"BidStatus active\">\n        <div className=\"Auction-on flex\">\n          <div className=\"Infos-sale\">\n            <h5>Current Bid</h5>\n            <p className=\"Price\">\n              {bidValue}\n              <span className=\"Currency\">ETH</span>\n            </p>\n            <p className=\"Dollars\">${dollars}</p>\n          </div>\n\n          <button onClick={this.displayBidForm} className=\"Btn-bid\">\n            {!isFormOpen ? \"Place a bid\" : \"X\"}\n          </button>\n        </div>\n        \n        {isFormOpen && !isSubmit && (\n          <form onSubmit={this.handleSubmit} className=\"Input-bid flex\">\n            <input\n              required\n              type=\"number\"\n              id=\"bidValue\"\n              name=\"bidValue\"\n              min={Number(bidValue) + 0.01}\n              step=\"0.01\"\n              placeholder=\"Place your bid\"\n              onChange={this.handleChange}\n              value={currentInput}\n            />\n\n            <button className=\"Btn-bid\">Submit</button>\n          </form>\n        )}\n        {displayMessage && \n            <h5 style={{marginTop: \"20px\", color: \"#00f035\"}}>{message}</h5>\n        }\n      </div>\n    );\n  }\n}\n\nexport default withUser(IsActive);\n","import React from \"react\";\nimport \"../../styles/BidStatus.css\";\n\nfunction NeverSold() {\n  return (\n    <div className=\"BidStatus\">\n      <p>Not For Sale</p>\n    </div>\n  );\n}\n\nexport default NeverSold;\n","import React, { Component } from 'react'\nimport \"../../styles/BidStatus.css\";\nimport EthToDollars from \"./../../controllers/EthToDollars\";\n\nexport default class IsSold extends Component {\n\n  state = {\n    dollars: null\n  }\n  componentDidMount(){\n    EthToDollars(this.props.bids[0].bidValue)\n      .then(res => this.setState({dollars: res}))\n      .catch(err=> console.log(err))\n  }\n  render() {\n    \n  const { bids } = this.props;\n  const {dollars} = this.state;\n\n    return (\n    <div className=\"BidStatus flex\">\n      <div className=\"Infos-sale\">\n        <h5>Sold For</h5>\n        <p className=\"Price\">\n          {bids[0].bidValue}\n          <span className=\"Currency\">ETH</span>\n        </p>\n        <p className=\"Dollars\">${dollars}</p>\n      </div>\n      <div className=\"Infos-owner\">\n        <h5>Owned by</h5>\n        <p>{bids[0].bidder.username}</p>\n      </div>\n    </div>\n    )\n  }\n}\n\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api/apiHandler\";\n\nimport ArtworkCard from \"../components/ArtworkCard\";\nimport IsActive from \"../components/BidStatus/IsActive\";\nimport NeverSold from \"../components/BidStatus/NeverSold\";\nimport IsSold from \"../components/BidStatus/IsSold\";\n\nimport \"../styles/OneArtwork.css\";\n\n\nexport class OneArtwork extends Component {\n  state = {\n    artwork: null,\n    otherArtworks: null,\n    auction: null,\n  };\n \n  getArtwork() { \n    const artworkId = this.props.match.params.id;\n    let creatorId;\n    api\n      .getOneArtwork(artworkId)\n      .then((res) => {\n        creatorId = res.creator._id;\n        this.setState({ artwork: res });\n        api.getOneCreator(creatorId).then((res) => {\n          const selectArtworks = res.slice(0, 4);\n          this.setState({ otherArtworks: selectArtworks });\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n  getAuction() { \n    const artworkId = this.props.match.params.id;\n    api\n      .getLastAuction(artworkId)\n      .then((res) => {\n        if (res.active) {\n          this.setState({ auction: res, isActive: true });\n        } else if (!res.active && res.bids) {\n          this.setState({ auction: res });\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  componentDidMount() {\n    this.getArtwork();\n    this.getAuction();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.artwork !== null) {\n      if (prevState.artwork._id !== this.props.match.params.id) {\n        window.scrollTo(0,0);\n        this.getArtwork();\n        this.getAuction();\n      }\n    }\n  }\n\n  render() {\n    const { artwork, otherArtworks, auction, isActive } = this.state;\n    if (!artwork || !otherArtworks) {\n      return <div>isLoading</div>;\n    }\n    return (\n      <div className=\"OneArtwork\">\n        {artwork && (\n          <section className=\"Top-artwork\">\n            <div>\n              <img\n                className=\"Top-details-img-size\"\n                src={artwork.image}\n                alt=\"hey\"\n              />\n              {console.log(auction)}\n              {auction && !isActive && <IsSold bids={auction.bids} />}\n              {auction && isActive && <IsActive auction={auction} />}\n              {!auction && !isActive && <NeverSold />}\n            </div>\n            <div className=\"Top-details\">\n              <h1>{artwork.title}</h1>\n              <Link to={`/artist/${artwork.creator._id}`}>\n                <h4>@{artwork.creator.username}</h4>\n              </Link>\n              <p>{artwork.description}</p>\n            </div>\n          </section>\n        )}\n\n        <section className=\"More-artworks\">\n          <h4 className=\"\">From the same artist</h4>\n          <section className=\"Cards-gallery\">\n            {otherArtworks &&\n              otherArtworks.map((artwork) => (\n                <ArtworkCard key={artwork._id} artwork={artwork} />\n              ))}\n          </section>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default OneArtwork;\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\n// Components\nimport NavMain from \"./components/NavMain\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Footer from \"./components/Footer\";\n// Pages\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport Profile from \"./pages/Profile\";\nimport Artist from \"./pages/Artist\";\n\nimport Results from \"./pages/Results\";\nimport OneArtwork from \"./pages/OneArtwork\";\n\nexport default class App extends Component {\n  state = {\n    inputSearch: \"\",\n    searchedValue: \"\",\n  };\n  getInputSearch = (searchInput) => {\n    this.setState({ inputSearch: searchInput });\n  };\n  clearInputSearch = () => {\n    this.setState({inputSearch: \"\"})\n  }\n  getSearchedValue = () => {\n    this.setState({ searchedValue: this.state.inputSearch }, () =>\n    this.clearInputSearch());\n  };\n  render() {\n\n    return (\n      <div className=\"App\">\n        <NavMain\n          getInputSearch={this.getInputSearch}\n          inputSearch={this.state.inputSearch}\n          getSearchedValue={this.getSearchedValue}\n        />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/results\" render={() => (\n              <Results searchedValue={this.state.searchedValue}/>\n            )}\n          />\n          <Route exact path=\"/artworks/:id\" component={OneArtwork} />\n          <Route exact path=\"/artist/:id\" component={Artist} />\n          <Route exact path=\"/signin\" component={Signin} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <ProtectedRoute exact path=\"/profile\" component={Profile} />\n        </Switch>\n\n        <Footer />\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}