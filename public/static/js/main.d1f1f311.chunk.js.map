{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/SearchBar.jsx","components/NavMain.jsx","components/ProtectedRoute.jsx","components/Footer.jsx","controllers/EthToDollars.js","components/ArtworkCard.jsx","components/Loading.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/Credits.jsx","pages/SubProfilePages/MyActivity.jsx","components/Forms/AddAnAuction.jsx","pages/SubProfilePages/MyCollection.jsx","pages/SubProfilePages/FormCreateAnArtwork.jsx","pages/SubProfilePages/FormUpdateOneCreation.jsx","pages/SubProfilePages/MyCreations.jsx","pages/SubProfilePages/FormUpdateProfile.jsx","pages/Profile.jsx","pages/Artist.jsx","pages/NotFound.jsx","pages/Results.jsx","components/BidStatus/IsActive.jsx","components/BidStatus/NeverSold.jsx","components/BidStatus/IsSold.jsx","pages/OneArtwork.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","apiHandler","signup","userInfo","post","then","res","catch","signin","isLoggedIn","get","logout","delete","UpdateMyProfile","patch","getMyProfile","getMyCurrentBids","getMyCurrentSales","getMyCollection","getMyCreations","getSalesOn","getOneArtwork","id","getOneCreator","addAnArtwork","artworkInfo","getResults","query","getLastAuction","addABid","bidValue","addAnAuction","auctionInfo","closeAnAuction","auctionId","owner","deleteAuction","changePassword","passwords","updateAnArtwork","artworkId","artworkUpdated","deleteAnArtwork","UpdateCreditsAfterSell","infos","UserContext","React","createContext","UserProvider","state","user","isLoading","setUser","setState","removeUser","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","SearchBar","handleEnter","evt","key","inputSearch","getSearchedValue","history","push","className","onChange","getInputSearch","target","onKeyDown","type","placeholder","required","withRouter","to","Fragment","onClick","component","rest","render","Footer","require","EthToDollars","USD","toFixed","err","ArtworkCard","auction","dollars","getData","artwork","_id","intervalID","setInterval","prevProps","prevState","active","bids","length","initialPrice","clearInterval","dollarsFormat","Intl","NumberFormat","format","src","image","alt","title","creator","username","Loading","text","Home","artworks","auctionTop","parallaxX","parallaxY","blur","parallax","event","x","window","innerWidth","pageX","y","innerHeight","pageY","blurVal","api","getEthToDollars","scrollTo","transform","filter","topArtwork","onMouseMove","style","map","FormSignin","email","password","message","handleChange","name","handleSubmit","preventDefault","onSubmit","htmlFor","Signin","FormSignup","avatar","instagram","website","description","credit","DetailsOpen","handleFileChange","files","handleToggle","uploadData","FormData","append","min","maxLength","cols","rows","Signup","Credits","MyActivity","myCurrentBids","myCurrentSales","boolean","closeTheAuction","bidder","_auctionOwnerId","sellerId","buyerId","getTheUpdatedUser","getCurrentSales","getCurrentBids","gap","flexWrap","_artworkId","bid","AddAnAuction","startingDate","newAuction","Date","now","closeForm","readOnly","step","MyCollection","myCollection","displaySellForm","artworkToSell","handleClickSell","initialValue","nameOfForm","getCollection","forSale","FormCreateAnArtwork","newArtwork","FormUpdateOneCreation","updatedArtwork","handleDelete","myCreations","displayAddForm","displayUpdateForm","artworkToUpdate","getCreations","handleClickAdd","handleClickUpdate","FormUpdate","isFormPwdDisplayed","formerPassword","newPassword","displayFormPwd","handleChangePwd","networks","displayCrea","displayColl","displayAct","displayUpdate","handleClick","userInCallback","isActive","fontWeight","FormUpdateProfile","Artist","userId","match","params","href","rel","NotFound","Results","artworksMatch","artistsMatch","searchedValue","matchArtwork","matchArtist","el","art","isFormOpen","isSubmit","currentInput","displayMessage","currentHighestBids","displayBidForm","reduce","acc","Number","marginTop","color","NeverSold","IsSold","OneArtwork","otherArtworks","creatorId","selectArtworks","slice","getArtwork","getAuction","App","searchInput","clearInputSearch","exact","path","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d1f1f311.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nconst apiHandler = {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => {\n        return res.data\n      })\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  delete() {\n    return service\n      .get(\"/api/auth/delete\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  // Profile Calls\n  UpdateMyProfile(userInfo) {\n    return service\n      .patch(\"/api/profile/my-profile/update\", userInfo)\n      .then((res)=> {console.log(\"in ApiHandler\", res.data)\n      return res.data })  \n      .catch(errorHandler);\n  },\n  \n  getMyProfile(){\n    return service\n      .get(\"/api/profile/my-profile\")\n      .then((res)=>res.data)\n      .catch(errorHandler)\n  },\n\n  getMyCurrentBids(){\n    return service\n      .get(\"/api/profile/my-current-bids\")\n      .then((res)=>res.data)\n\n      .catch(errorHandler)\n  },\n\n  getMyCurrentSales(){\n    return service\n      .get(\"/api/profile/my-current-sales\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getMyCollection(){\n    return service\n    .get(\"/api/profile/my-collection\")\n    .then((res)=>res.data)\n    .catch(errorHandler);\n  },\n\n  getMyCreations(){\n    return service\n    .get(\"/api/profile/my-creations\")\n    .then((res)=>res.data)\n    .catch(errorHandler);\n  },\n\n   // Artworks Calls\n  getSalesOn() {\n    return service\n      .get(\"/api/artworks\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneArtwork(id) {\n    return service\n      .get(`/api/artworks/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  getOneCreator(id) {\n    return service\n      .get(`/api/artworks/artist/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  addAnArtwork(artworkInfo){\n    return service\n    .post('/api/artworks/new', artworkInfo)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  // fetch results from searchBar query\n  getResults(query) {\n    return service\n      .get(`/api/artworks/results?search=${query}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  //Auctions Call\n  getLastAuction(id) {\n    return service\n      .get(`/api/auctions/${id}/last-auction`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addABid(bidValue, id){\n    return service\n    .patch(`/api/auctions/${id}/new-bid`, {bidValue: bidValue} )\n    .then((res)=> {\n      console.log(\"AddaBid \", res.data)\n      return res.data })\n    .catch(errorHandler)\n  },\n\n  addAnAuction(auctionInfo){\n    return service\n    .post('/api/auctions/new', auctionInfo)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  closeAnAuction(auctionId, owner){\n    console.log('new owner id dans le api handler', owner)\n    return service\n    .patch(`/api/auctions/close-auction/${auctionId}`, owner)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  deleteAuction(auctionId) {\n    return service\n    .delete(`/api/auctions/${auctionId}`)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n  changePassword(passwords){\n    return service.patch('/api/auth/update-password', passwords)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n  updateAnArtwork(artworkId, artworkUpdated){\n    return service.patch(`/api/artworks/${artworkId}`, artworkUpdated)\n      \n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  deleteAnArtwork(artworkId){\n    return service.delete(`/api/artworks/${artworkId}`)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  },\n\n  UpdateCreditsAfterSell(infos){\n    return service.patch(`/api/auctions/update-credits`, infos)\n    .then((res)=>res.data)\n    .catch(errorHandler)\n  }\n};\n\n\nexport default apiHandler;\n","import React from \"react\";\n\nexport const UserContext = React.createContext();\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { UserContext } from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  \n\n  setUser = (user) => {\n    console.log(user,\"user froM db\")\n    this.setState({ user, isLoggedIn: true })\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport { UserContext } from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// This component is not exported as default, so you have to import it\n// this way :\n// import { withUser } from \"../relative/path/to/this/file\"\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nclass SearchBar extends Component {\n  handleEnter = (evt) => {\n    if (evt.key === \"Enter\" && this.props.inputSearch) {\n      this.props.getSearchedValue();\n      this.props.history.push(\"/results\");\n    }\n  };\n  render() {\n    console.log(this.props)\n    return (\n      <div className=\"SearchBar\">\n        <input \n          onChange={(evt) => this.props.getInputSearch(evt.target.value)}\n          onKeyDown={this.handleEnter}\n          type=\"text\"\n          value={this.props.inputSearch}\n          placeholder=\"Search artworks or artists\"\n          required\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SearchBar);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\nimport SearchBar from \"./../components/SearchBar\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { context } = props;\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain text-focus-in\">\n      <Link to=\"/\">\n        <h3 className=\"logo\">.aaa</h3>\n      </Link>\n\n      <SearchBar           \n        getInputSearch={props.getInputSearch}\n        inputSearch={props.inputSearch}\n        getSearchedValue={props.getSearchedValue}/>\n      \n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <Link className=\"Btn-minimal black\" to=\"/profile\">\n                {/* {context.user && context.user.email} */}\n                Profile\n              </Link>\n            </li>\n            <li>\n              <button className=\"Btn-minimal\" onClick={handleLogout}>Logout</button>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <Link className=\"Btn-minimal black\" to=\"/signin\">Log in</Link>\n            </li>\n            <li>\n              <Link className=\"Btn-minimal black\" to=\"/signup\">Create account</Link>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React from 'react'\n\nconst Footer = () => {\n    return (\n        <footer className=\"flex\">\n            ©2021 Magali Fort | Thaïs Hauguel | Romain Benard\n        </footer>\n    )\n}\n\nexport default Footer\n","const axios = require(\"axios\");\n\nfunction EthToDollars(value) {\n  return axios\n    .get(\n      \"https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=BTC,USD,EUR\"\n    )\n    .then((res) => {\n      return (res.data.USD * value).toFixed();\n    })\n    .catch((err) => console.log(err));\n}\n\nexport default EthToDollars\n\n","import React, { Component } from 'react'\nimport {Link} from \"react-router-dom\";\nimport apiHandler from \"./../api/apiHandler\";\nimport EthToDollars from \"./../controllers/EthToDollars\"\n\n// Styles\nimport \"../styles/ArtworkCard.css\"\n\nexport class ArtworkCard extends Component {\n    state={\n        auction: null,\n        dollars: null\n    }\n    \n    getData=()=>{\n        apiHandler.getLastAuction(this.props.artwork._id)\n        .then(data=> this.setState({auction: data}))\n        .catch(err=> console.log(err));\n    }\n\n    intervalID; \n     /* \n        declare a member variable to hold the interval ID\n        that we can reference later.\n      */\n\n\n    componentDidMount(){\n    this.getData()\n    this.intervalID = setInterval(()=>this.getData(), 10000);\n    /*\n          Now we need to make it run at a specified interval,\n          bind the getData() call to `this`, and keep a reference\n          to the invterval so we can clear it later.\n        */\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if (this.state.auction && (prevState.auction !==this.state.auction)) {\n        if ((this.state.auction.active && this.state.auction.bids.length>0) || (this.state.auction && !this.state.auction.active)) {\n            EthToDollars(this.state.auction.bids[0].bidValue)\n            .then(res => this.setState({dollars: res}))\n            .catch(err=> console.log(err));\n            } else if (this.state.auction.active && this.state.auction.bids.length===0) {\n                EthToDollars(this.state.auction.initialPrice)\n                .then(res => this.setState({dollars: res}))\n                .catch(err=> console.log(err));\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        /*\n          stop getData() from continuing to run even\n          after unmounting this component\n        */\n        clearInterval(this.intervalID);\n      }\n\n\n    render() {\n        const {artwork} = this.props\n        const {auction, dollars} = this.state\n        const dollarsFormat = new Intl.NumberFormat().format(dollars)\n        return (\n            <div className=\"ArtworkCard\">\n                <Link key={artwork._id} to={`/artworks/${artwork._id}`}>\n                    <img src={artwork.image} alt={`${artwork.title}`}/>\n                    <div className=\"details\">\n                        <h5>{artwork.title}</h5>\n                        <h6>{artwork.creator ? artwork.creator.username : \"former user of the platform\"}</h6>\n                        <div className=\"Bid-status\">\n                            {!auction && <p>Not for sale</p>}\n                            {auction && auction.active && auction.bids.length>0 &&(\n                            <><p>Current Price</p>\n                            <p className=\"Price\">{auction.bids[0].bidValue}<span className=\"Currency\">ETH</span></p>\n                            <p className=\"Dollars\">${dollarsFormat}</p></>)}\n                            {auction && auction.active && auction.bids.length===0 &&(\n                            <><p>Current Price</p>\n                            <p className=\"Price\">{auction.initialPrice}<span className=\"Currency\">ETH</span></p>\n                            <p className=\"Dollars\">${dollarsFormat}</p></>)}\n                            {auction && !auction.active && (\n                            <><p>Sold for</p>\n                            <p className=\"Price\">{auction.bids[0].bidValue}<span className=\"Currency\">ETH</span></p>\n                            <p className=\"Dollars\">${dollarsFormat}</p></>)}\n                            \n                        </div>\n                    </div>\n                </Link>\n            </div>\n        )\n    }\n}\n\nexport default ArtworkCard\n","import React from 'react'\n\nconst Loading = (props) => {\n    return (\n        <div className=\"Loading\">\n            <h1>{props.text} is<br/> coming<br/>...</h1>\n        </div>\n    )\n}\n\nexport default Loading\n","import React from \"react\";\nimport api from \"../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport EthToDollars from \"./../controllers/EthToDollars\";\n// Components\nimport ArtworkCard from \"../components/ArtworkCard\";\nimport Loading from \"../components/Loading\";\n// Styles\nimport \"../styles/Home.css\";\nimport \"../styles/Animations.css\";\n\n\nclass Home extends React.Component {\n  state = {\n    artworks: null,\n    auctionTop: null,\n    dollars: null,\n    parallaxX: null,\n    parallaxY: null,\n    blur: null, \n  };\n  \n  \n\n  parallax = (event) => {\n    const speed = 2;\n    const x= (window.innerWidth - event.pageX*speed)/300\n    const y= (window.innerHeight - event.pageY*speed)/100\n    const blurVal= (window.innerHeight - event.pageX)/250\n    \n    this.setState({parallaxX: x, parallaxY: y, blur: blurVal})\n  }\n\n  getEthToDollars(value) {\n    EthToDollars(value)\n      .then((res) => this.setState({ dollars: res }))\n      .catch((err) => console.log(err));\n  }\n\n\n  getData=()=>{\n    api.getSalesOn().then((res) =>\n      this.setState({ artworks: res }, () => {\n        if (this.state.artworks.length > 0) {\n          api\n            .getLastAuction(this.state.artworks[0]._id)\n            .then((res) =>\n              this.setState({ auctionTop: res }, () => {\n                if (this.state.auctionTop.bids.length === 0) {\n                  this.getEthToDollars(this.state.auctionTop.initialPrice)\n                } else {\n                  this.getEthToDollars(this.state.auctionTop.bids[0].bidValue)\n                }\n              })\n            )\n            .catch((err) => console.log(err));\n        }\n      })\n    );\n  }\n\n  intervalID;\n   /* \n        declare a member variable to hold the interval ID\n        that we can reference later.\n      */\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n   this.getData()\n    this.intervalID = setInterval(()=>this.getData(), 10000);\n    /*\n          Now we need to make it run at a specified interval,\n          bind the getData() call to `this`, and keep a reference\n          to the invterval so we can clear it later.\n        */\n  }\n\n  componentDidUpdate(prevProps,prevState) {\n    if (prevState.parallaxX !== this.state.parallaxX || prevState.parallaxY !== this.state.parallaxY ) \n    this.setState({parallaxX: this.setState.parallaxX, parallaxY: this.setState.parallaxY, blur: this.state.blur})\n  }\n\n  componentWillUnmount() {\n    /*\n      stop getData() from continuing to run even\n      after unmounting this component\n    */\n    clearInterval(this.intervalID);\n  }\n\n\n  render() {\n    const { artworks, auctionTop, dollars, parallaxX, parallaxY, blur } = this.state;\n    const dollarsFormat = new Intl.NumberFormat().format(dollars)\n    let parallax = {\n      transform: `translateX(${parallaxX}px) translateY(${parallaxY}px)`,\n      filter: `blur(${blur}px)`\n    }\n    if (!artworks || !auctionTop) {\n      return <Loading text=\"Art\" />;\n    }\n    let [topArtwork, ...rest] = artworks;\n    \n    return (\n      <div className=\"Home\" onMouseMove={this.parallax}>\n        {artworks.length > 0 && (\n          <section className=\"Top-artwork Grid40-60\">\n            <div className=\"Top-artwork-Bg slide-in-top\"></div>\n            <div className=\"Top-artwork-infos slide-in-bottom\" style={parallax}>\n              <h1>{topArtwork.title}</h1>\n              <h4>@{topArtwork.creator.username}</h4>\n\n              <div className=\"Bid-home\">\n                <h4>Current Bid</h4>\n                <p className=\"Price\">\n                  {auctionTop.bids.length === 0\n                    ? auctionTop.initialPrice\n                    : auctionTop.bids[0].bidValue}\n                  <span className=\"Currency\">ETH</span>\n                </p>\n                <p className=\"Dollars\">${dollarsFormat}</p>\n              </div>\n              <Link to={`/artworks/${topArtwork._id}`}>\n                <button className=\"Btn-black\">See the auction</button>\n              </Link>\n            </div>\n            \n            <img className=\"Top-img-size slide-in-bottom delay2\" src={topArtwork.image} alt={topArtwork.title}/>\n          </section>\n        )}\n\n        <section className=\"Cards-gallery init-margin \">\n          <h3 style={parallax} >Discover current auctions.</h3>\n          {artworks &&\n            rest.map((artwork) => (\n              <ArtworkCard key={artwork._id} artwork={artwork} />\n          ))}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withUser } from \"../Auth/withUser\";\n\nclass FormSignin extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.props.context.setUser(data);\n     \n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({message: \"Oups, Bad Credentials\"})\n      });\n  };\n\n  render() {\n    if (this.props.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n\n    return (\n      <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" name=\"email\" />\n        <label htmlFor=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" name=\"password\" />\n        <button className=\"Btn-black  \">Submit</button>\n        {this.state.message && <p className=\"Alert-message\">{this.state.message}</p>}\n\n      </form>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormSignin));\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return (\n    <div className=\"flex Auth-container\">\n      <h2>Connect to your account</h2>\n      <FormSignin />\n    </div>\n  )\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { withUser } from \"../Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\n\nclass FormSignup extends Component {\n  state = {\n    email: \"toto@gmail.com\",\n    password: \"toto\",\n    username:\"toto\",\n    avatar: \"https://cdn.boldomatic.com/content/post/fl4sZw/LOVE-ME-I-M-AN-ARTIST?size=800\",\n    instagram:\"\",\n    website:\"\",\n    description:\"\",\n    credit:0,\n    DetailsOpen: false,\n    message: \"\"\n  };\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleFileChange = (event) => {\n\n    console.log(\"The file added by the use is: \", event.target.files[0]);\n    this.setState({\n      avatar: event.target.files[0],\n    });\n  };\n\n  handleToggle = () => {\n    this.setState({DetailsOpen: !this.state.DetailsOpen})\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const uploadData = new FormData();\n    uploadData.append(\"email\", this.state.email);\n    uploadData.append(\"password\", this.state.password);\n    uploadData.append(\"username\", this.state.username);\n    uploadData.append(\"avatar\", this.state.avatar);\n    uploadData.append(\"instagram\", this.state.instagram);\n    uploadData.append(\"website\", this.state.website);\n    uploadData.append(\"description\", this.state.description);\n    uploadData.append(\"credit\", this.state.credit);\n\n\n    apiHandler\n      .signup(uploadData)\n      .then((data) => {\n        this.props.context.setUser(data)\n        \n       // this.props.history.push(\"/profile\" )\n        \n      })\n      .catch((error) => {\n        this.setState({message: \"Oups, email or username already exist\"})\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.props.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n\n    return (\n      <form  onSubmit={this.handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n        />\n        <label htmlFor=\"password\">Password</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.password}\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n        />\n        <label htmlFor=\"username\">Username</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.username}\n          type=\"text\"\n          id=\"username\"\n          name=\"username\"\n        />\n        \n        <label htmlFor=\"credit\">Credits</label>\n        <input\n          required\n          onChange={this.handleChange}\n          value={this.state.credit}\n          type=\"number\"\n          id=\"credit\"\n          name=\"credit\"\n          min=\"0\"\n        />\n\n        \n\n        <button className=\"Btn-minimal\" onClick={this.handleToggle}>{this.state.DetailsOpen ? \"Close\" : \"Add more infos\"}</button>\n\n        { this.state.DetailsOpen && \n          <React.Fragment>\n            <label htmlFor=\"avatar\">Avatar</label>\n            <input\n              onChange={this.handleFileChange}\n              type=\"file\"\n              id=\"avatar\"\n              name=\"avatar\"\n            />\n\n            <label htmlFor=\"instagram\">Instagram</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.instagram}\n              type=\"text\"\n              id=\"instagram\"\n              name=\"instagram\"\n            />\n            <label htmlFor=\"website\">Website</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.website}\n              type=\"text\"\n              id=\"website\"\n              name=\"website\"\n            />\n            <label htmlFor=\"description\">Description</label>\n            <textarea\n              onChange={this.handleChange}\n              value={this.state.description}\n              type=\"text\"\n              id=\"description\"\n              name=\"description\"\n              maxLength=\"300\"\n              cols=\"30\" \n              rows=\"7\"\n            >\n            Description\n            </textarea>\n          </React.Fragment>\n        }  \n        <button className=\"Btn-black\">Submit</button>\n        {this.state.message && <p className=\"Alert-message\">{this.state.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormSignup));\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return (\n    <div className=\"flex Auth-container\">\n      <h2>Create your account</h2>\n      <FormSignup />\n    </div>\n  )\n};\n\nexport default Signup;\n","import React, { Component } from 'react'\n// import {withUser} from './Auth/withUser'\nimport EthToDollars from '../controllers/EthToDollars'\n\nexport class Credits extends Component {\n    state = {\n        credit: null\n    }\n\n    getEthToDollars() {\n        EthToDollars(this.props.user.credit)\n        .then(res => {\n            this.setState({credit: res})\n        })\n    }\n\n    componentDidMount() {\n        console.log('mount')\n        this.getEthToDollars()\n    }\n\n    componentDidUpdate(prevProps,prevState){\n        console.log('update')\n        console.log(\"props credit\", this.props.user.credit)\n        if (prevProps.user.credit !== this.props.user.credit){\n          this.getEthToDollars()\n        }\n    }\n    render() {\n        const {user} = this.props\n        const {credit} = this.state\n       \n        return (\n            <div className=\"Profile-credits\">\n                <h4>Credits</h4>\n                <p className=\"Price\">{user.credit.toFixed(2)}<span className=\"Currency\">ETH</span></p>\n                <p className=\"Dollars\">${credit}</p>\n          </div>\n        )\n    }\n}\n\nexport default Credits\n","import React, { Component } from \"react\";\nimport {Link} from 'react-router-dom'\nimport { withRouter} from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withUser } from \"../../components/Auth/withUser\";\n\n\nclass MyActivity extends Component {\n    state={\n        myCurrentBids: null,\n        myCurrentSales: null,\n        boolean: true // is toggled when auction is closed\n    }\n\n    closeTheAuction=(auction)=>{\n        if (auction.bids[0]) { // if there is at least one bid, new owner is last bidder\n        apiHandler\n        .closeAnAuction(auction._id,{owner : auction.bids[0].bidder._id })\n        .then(()=>this.setState({boolean : !this.state.boolean}))\n        .catch(err=>console.log(err))\n\n\n        console.log(auction._auctionOwnerId, auction.bids[0].bidder._id)\n        apiHandler\n        .UpdateCreditsAfterSell({bidValue : auction.bids[0].bidValue, sellerId: auction._auctionOwnerId, buyerId : auction.bids[0].bidder._id})\n        .then((data)=>{\n          console.log(\"credits updated for seller and buyer\")\n          this.props.context.setUser(data)\n          this.props.getTheUpdatedUser(data)\n        })\n        .catch(err=>console.log(err))\n\n        } else { // if no one has bidded yet, auction is deleted\n\n        apiHandler\n        .deleteAuction(auction._id)\n        .then(()=>this.setState({boolean : !this.state.boolean}))\n        .catch(err=>console.log(err))\n        }\n    }\n    getCurrentSales=()=>{\n      apiHandler\n      .getMyCurrentSales()\n      .then((data) => {\n      this.setState({myCurrentSales : data})\n      })\n      .catch(err=>console.log(err))\n    }\n\n    getCurrentBids=()=>{\n      apiHandler\n      .getMyCurrentBids()\n      .then((data) => {\n      this.setState({myCurrentBids : data})\n      })\n      .catch(err=>console.log(err))\n    }\n\n    intervalID;\n   /* \n        declare a member variable to hold the interval ID\n        that we can reference later.\n      */\n\n    componentDidMount(){    \n      this.getCurrentSales()  \n      this.getCurrentBids()\n      this.intervalID = setInterval(()=>{\n        this.getCurrentSales() \n        this.getCurrentBids()}, 10000);\n\n  }\n\n    componentDidUpdate(prevProps, prevState){\n        if (prevState.myCurrentSales){\n            if (prevState.boolean!==this.state.boolean){\n              this.getCurrentSales() \n            }\n        } \n    }\n\n    componentWillUnmount() {\n      /*\n        stop getData() from continuing to run even\n        after unmounting this component\n      */\n\n      clearInterval(this.intervalID);\n    }\n\n\n    render() {\n        if (!this.state.myCurrentSales || !this.state.myCurrentBids || !this.props.context.user ){return <div>Loading...</div>}\n        \n        return (\n        <div className=\"flex\" style={{gap: \"50px\", flexWrap: \"wrap\"}}>\n            <div>\n                <h3>My current bids</h3>\n                {this.state.myCurrentBids.length===0 && <p>You haven't bid on any artwork lately.</p>}\n\n                <table className=\"Profile-table\">\n                    <tbody>\n                        {this.state.myCurrentBids.map((auction)=>{\n                            return <tr key={auction._id}>\n                                <td>\n                                    <Link to={`artworks/${auction._artworkId._id}`}>\n                                        <img className=\"Miniature\" src={auction._artworkId.image} alt={auction._artworkId.title}/>\n                                    </Link>\n                                </td>\n                                <td>\n                                    <Link to={`artworks/${auction._artworkId._id}`}>\n                                        {auction._artworkId.title}\n                                    </Link>\n                                    <p>\n                                        Current bid: ${auction.bids[0].bidValue} |\n                                        {auction.bids.filter((bid)=> bid.bidder._id === this.props.context.user._id).length > 0 \n                                        && ` My last bid: ${auction.bids.filter((bid)=>bid.bidder._id === this.props.context.user._id)[0].bidValue}`} \n                                    </p>\n                                </td>\n                            </tr>\n                        })}\n                    </tbody>\n                </table>\n            </div>\n\n            <div>\n            <h3>My current Sales</h3>\n            {this.state.myCurrentSales.length===0 && <p>You don't have any sales in progress, you can add an auction at anytime.</p>}\n            <table className=\"Profile-table Activity\">\n                <tbody>\n                    {this.state.myCurrentSales.map((auction)=>{\n                        return (\n                          <tr key={auction._id}>\n                            <td>\n                              <Link to={`artworks/${auction._artworkId._id}`}>\n                                <img\n                                  className=\"Miniature\"\n                                  src={auction._artworkId.image}\n                                  alt={auction._artworkId.title}\n                                />\n                              </Link>\n                            </td>\n                            <td>\n                              <Link to={`artworks/${auction._artworkId._id}`}>\n                                {auction._artworkId.title}\n                              </Link>\n                              {auction.bids[0] ? (\n                                <p>\n                                  Current bid: ${auction.bids[0].bidValue} |\n                                  Placed by: {auction.bids[0].bidder.username}\n                                </p>\n                              ) : (\n                                <p>No bid yet</p>\n                              )}\n                            </td>\n                            <td></td>\n                            <td>\n                              <button\n                                onClick={() => this.closeTheAuction(auction)}\n                                className=\"Btn-minimal\"\n                              >\n                                Close auction\n                              </button>\n                            </td>\n                          </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n            \n            </div> \n        </div>\n        )\n    }\n}\n\nexport default withUser (withRouter(MyActivity))","import React, { Component } from 'react'\nimport { withUser } from \"../../components/Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withRouter} from \"react-router-dom\";\n\n\n\nclass AddAnAuction extends Component {\n\n    state={\n        initialPrice:0,\n        startingDate: null\n    }\n\n    handleSubmit=(event)=>{\n        event.preventDefault()\n        const newAuction={\n            initialPrice: this.state.initialPrice,\n            _artworkId : this.props.artwork._id,\n            startingDate: Date.now()\n        }\n\n        apiHandler\n        .addAnAuction(newAuction)\n        .then(()=>{\n            this.props.closeForm(\"displaySellForm\");\n            console.log('created!')})\n        .catch(err=>console.log(err))\n\n\n    }\n\n    handleChange=(event)=>{\n    this.setState({initialPrice: event.target.value })\n    }   \n\n    render() {\n        return (\n          <section>\n            <h3>Create an auction</h3>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                required\n                type=\"text\"\n                readOnly\n                value={this.props.artwork.title}\n              />\n              <input\n                required\n                id=\"initialPrice\"\n                onChange={this.handleChange}\n                name=\"initialPrice\"\n                value={this.state.initialPrice}\n                type=\"number\"\n                placeholder=\"Initial price\"\n                step=\"0.01\"\n              />\n              <button className=\"Btn-black\">Create</button>\n            </form>\n          </section>\n        );\n    }\n}\n\nexport default withRouter(withUser(AddAnAuction))\n","import React, {Component} from 'react'\nimport apiHandler from \"../../api/apiHandler\";\nimport {Link} from 'react-router-dom'\nimport AddAnAuction from \"../../components/Forms/AddAnAuction\";\n\n\n\n\nclass MyCollection extends Component {\n    state={\n        myCollection: null,\n        displaySellForm:false,\n        artworkToSell : null, \n    }\n\n    getCollection () {\n        apiHandler\n        .getMyCollection()\n        .then((data) => {\n        this.setState({myCollection : data})\n        })\n        .catch(err=>console.log(err))\n    }\n    componentDidMount(){\n        this.getCollection()\n    }\n    handleClickSell=(artwork)=>{\n        this.setState({displaySellForm : true, artworkToSell:artwork })\n    }\n        \n    handleChange=(event)=>{\n        this.setState({initialValue: event.target.value })\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.displaySellForm!==this.state.displaySellForm) {\n            this.getCollection()\n        }\n      };\n      \n      closeForm = (nameOfForm) => {\n        this.setState({[nameOfForm]: false})\n      };\n\nrender(){\n    if (!this.state.myCollection){return <div>Loading...</div>}\n    // console.log(\"my collection state: \",this.state)\n    return (\n        <div className=\"flex\">\n\n            {this.state.myCollection.length===0 && <p>You don't have any artwork in your collection, buy some !</p>}\n\n            <table className=\"Profile-table\">\n                <tbody>\n                    {this.state.myCollection.map((artwork)=>{\n                        return (\n                        <tr key={artwork._id}> \n                            <td>\n                                <Link to={`artworks/${artwork._id}`}><img className=\"Miniature\" src={artwork.image} alt={artwork.title}/></Link>\n                            </td>\n                            <td>\n                            <Link to={`artworks/${artwork._id}`}>{artwork.title} <span>by {artwork.creator.username}</span></Link>\n                            </td>\n                            <td>\n                            {artwork.forSale===false? <button onClick={()=>this.handleClickSell(artwork)}>\n                                <img className=\"Btn-icon\" src=\"img/auction-btn.svg\" alt=\"auction-btn\" />\n                            </button> : <p>Auction<br/>in progress</p>}\n                            </td>\n                        </tr> )\n                    })}    \n                </tbody>\n            </table>\n\n            {this.state.displaySellForm && <AddAnAuction  artwork={this.state.artworkToSell} closeForm={this.closeForm}/>}\n        </div>\n    )\n}\n\n    \n}\n\nexport default MyCollection\n","import React, { Component } from 'react'\nimport apiHandler from \"../../api/apiHandler\";\n//CSS\nimport \"../../styles/Profile.css\"\n\n\nexport default class FormCreateAnArtwork extends Component {\n    state = {\n        title: \"\",\n        description: \"\",\n        image: \"\",\n      };\n\n\n    handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({ [name]: value });\n      };\n\n      handleFileChange = (event) => {\n        // console.log(\"The file added by the use is: \", event.target.files[0]);\n        this.setState({\n          image: event.target.files[0],\n        });\n      };\n\n      handleSubmit = (event) => {\n        event.preventDefault()\n        const newArtwork= new FormData()\n        newArtwork.append(\"title\", this.state.title)\n        newArtwork.append(\"description\", this.state.description)\n        newArtwork.append(\"image\", this.state.image)\n    \n        apiHandler\n      .addAnArtwork(newArtwork)\n      .then(()=>{\n        this.props.closeForm(\"displayAddForm\")\n        console.log('artwork created!')})\n      .catch(err=>console.log(err))\n      };\n\n    render() {\n        return (\n            <section>\n            <h3>Add an artwork</h3>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                id=\"title\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.handleChange}\n                type=\"text\"\n                placeholder=\"Title\"\n              />\n            <textarea \n              onChange={this.handleChange}\n              value={this.state.description}\n              type=\"text\"\n              id=\"description\"\n              name=\"description\" \n              placeholder=\"Description\"\n              cols=\"30\" \n              rows=\"7\"\n            >\n              \n            </textarea>\n              <input\n                id=\"image\"\n                name=\"image\"\n                onChange={this.handleFileChange}\n                type=\"file\"\n                placeholder=\"Upload the image\"\n              />\n\n            <button className=\"Btn-black\">Create</button>\n            </form>\n          </section>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport apiHandler from \"../../api/apiHandler\";\n//CSS\nimport \"../../styles/Profile.css\"\n\n\nexport default class FormUpdateOneCreation extends Component {\n    state = {\n        artwork: \"\",\n        title: \"\",\n        description: \"\",\n        image: \"\",\n      };\n\n    componentDidMount() {\n      this.setState({\n        artwork: this.props.artwork,\n        title: this.props.artwork.title,\n        description: this.props.artwork.description,\n        image: this.props.artwork.image,\n      })\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.artwork._id !== this.props.artwork._id) {\n          this.setState({\n            artwork: this.props.artwork,\n            title: this.props.artwork.title,\n            description: this.props.artwork.description,\n            image: this.props.artwork.image,\n          })\n        }\n      }\n\n    handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({ [name]: value });\n      };\n\n      handleFileChange = (event) => {\n        this.setState({\n          image: event.target.files[0],\n        });\n      };\n\n      handleSubmit = (event) => {\n          event.preventDefault()\n        const updatedArtwork= new FormData()\n        updatedArtwork.append(\"title\", this.state.title)\n        updatedArtwork.append(\"description\", this.state.description)\n        updatedArtwork.append(\"image\", this.state.image)\n    \n        apiHandler\n      .updateAnArtwork(this.state.artwork._id, updatedArtwork)\n      .then(()=>{console.log('artwork updated!')\n        this.props.closeForm(\"displayUpdateForm\")})\n      .catch(err=>console.log(err))\n      };\n\n      handleDelete=()=>{\n          apiHandler\n          .deleteAnArtwork(this.state.artwork._id)\n          .then(()=>{console.log('artwork deleted!')\n          this.props.closeForm(\"displayUpdateForm\")})\n          .catch(err=>console.log(err))\n      }\n\n    render() {\n        const {title, description} = this.state\n        \n        return (\n            <section>\n            <h3>Update an artwork</h3>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                id=\"title\"\n                name=\"title\"\n                value={title}\n                onChange={this.handleChange}\n                type=\"text\"\n                placeholder=\"Title\"\n              />\n            <textarea \n              onChange={this.handleChange}\n              value={description}\n              type=\"text\"\n              id=\"description\"\n              name=\"description\" \n              placeholder=\"Description\"\n              cols=\"30\" \n              rows=\"7\"\n            >\n              \n            </textarea>\n              <input\n                id=\"image\"\n                name=\"image\"\n                onChange={this.handleFileChange}\n                type=\"file\"\n                placeholder=\"Upload the image\"\n              />\n\n            <button className=\"Btn-black\">Update</button>\n            </form>\n            <button className=\"Btn-minimal\" onClick={this.handleDelete}>Delete</button>\n          </section>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { Link} from \"react-router-dom\";\nimport AddAnAuction from \"../../components/Forms/AddAnAuction\";\nimport FormCreateAnArtwork from \"./FormCreateAnArtwork\";\nimport FormUpdateOneCreation from \"./FormUpdateOneCreation\";\n\nimport apiHandler from \"../../api/apiHandler\";\nimport {withUser} from \"./../../components/Auth/withUser\";\n\n//CSS\nimport \"../../styles/Profile.css\";\n\nclass MyCreations extends Component {\n  state = {\n    myCreations: null,\n    displayAddForm: false,\n    displayUpdateForm: false,\n    displaySellForm: false,\n    artworkToSell: null,\n    artworkToUpdate: null,\n    message: \"\",\n  };\n  getCreations = () => {\n    apiHandler\n    .getMyCreations()\n    .then((data) => {\n      this.setState({ myCreations: data });\n    })\n    .catch((err) => console.log(err));\n  }\n  componentDidMount() {\n    this.getCreations()\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.displayAddForm !== this.state.displayAddForm ||\n      prevState.displaySellForm !== this.state.displaySellForm ||\n      prevState.displayUpdateForm !== this.state.displayUpdateForm\n    ) this.getCreations()\n  }\n\n  handleClickSell = (artwork) => {\n    this.setState({ displaySellForm: true, displayUpdateForm: false, displayAddForm: false, artworkToSell: artwork });\n  };\n\n  handleClickAdd = () => {\n    this.setState({ displayAddForm: true, displayUpdateForm: false, displaySellForm: false, });\n  };\n\n  handleClickUpdate = (artwork) => {\n    this.setState({ displayUpdateForm: true, displayAddForm: false, displaySellForm: false, artworkToUpdate: artwork });\n  };\n\n\n  closeForm = (nameOfForm) => {\n    this.setState({ [nameOfForm]: false });\n  };\n\n  render() {\n    if (!this.state.myCreations) {\n      return <div>Loading...</div>;\n    }\n    // console.log(this.state);\n    return (\n      <div className=\"flex\">\n        <section>\n          {this.state.myCreations.length === 0 && (\n            <p>You don't have any creation, add some !</p>\n          )}\n          {this.state.message && (\n            <p className=\"Sucess-message\">{this.state.message}</p>\n          )}\n          <table className=\"Profile-table\">\n            <tbody>\n              {this.state.myCreations.map((artwork) => {\n                return (\n                  <tr key={artwork._id}>\n                    <td>\n                      <Link to={`artworks/${artwork._id}`}>\n                        <img\n                          className=\"Miniature\"\n                          src={artwork.image}\n                          alt={artwork.title}\n                        />\n                      </Link>\n                    </td>\n                    <td>\n                      <Link to={`artworks/${artwork._id}`}>\n                        {artwork.title}\n                      </Link>\n                    </td>\n                    <td>\n                      {artwork.owner=== this.props.context.user._id &&<button onClick={() => this.handleClickUpdate(artwork)}>\n                        <img\n                          className=\"Btn-icon edit\"\n                          src=\"img/edit-btn.svg\"\n                          alt=\"auction-btn\"\n                        />\n                      </button>}\n                    </td>\n                    <td>\n                      {artwork.creator=== artwork.owner? (\n                        artwork.forSale === false ? (\n                          <button onClick={() => this.handleClickSell(artwork)}>\n                            <img\n                              className=\"Btn-icon\"\n                              src=\"img/auction-btn.svg\"\n                              alt=\"auction-btn\"\n                            />\n                          </button>\n                        ) : (\n                            <p>Auction<br/>in progress</p>\n                        )\n                      ) : (\n                        <p>Sold</p>\n                      )}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <button className=\"Btn-black\" onClick={this.handleClickAdd}>\n            Add an artwork\n          </button>\n        </section>\n\n        {this.state.displaySellForm && (\n          <AddAnAuction\n            artwork={this.state.artworkToSell}\n            closeForm={this.closeForm}\n          />\n        )}\n\n        {this.state.displayAddForm && (\n          <FormCreateAnArtwork closeForm={this.closeForm} />\n        )}\n\n        {this.state.displayUpdateForm && (\n          <FormUpdateOneCreation\n            closeForm={this.closeForm}\n            artwork={this.state.artworkToUpdate}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withUser(MyCreations);\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { withUser } from \"../../components/Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\n\n\nclass FormUpdate extends Component {\n  state = {\n    email: \"\",\n    username: \"\",\n    avatar: \"\",\n    instagram: \"\",\n    website: \"\",\n    description: \"\",\n    credit: 0,\n    isFormPwdDisplayed: false,\n    formerPassword: \"\",\n    newPassword: \"\",\n    message: \"\",\n  \n  };\n\n  componentDidMount() {\n    apiHandler\n      .getMyProfile()\n      .then((data) => this.setState({\n        email: data.email,\n        username: data.username,\n        avatar: data.avatar,\n        description: data.description,\n        credit: data.credit,\n        instagram: data.networks.instagram,\n        website: data.networks.website\n\n      }))\n      .catch((err) => console.log(err));\n  }\n\n    //  componentDidUpdate(prevProps,prevState){\n    //     console.log(prevProps.context.user.credit, this.props.context.user.credit)\n    //     if (prevProps.context.user.credit!==this.props.context.user.credit){\n    //       console.log(this.props.context.user.credit)\n    //     }\n    //   }\n\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleFileChange = (event) => {\n    console.log(\"The file added by the use is: \", event.target.files[0]);\n    this.setState({\n      avatar: event.target.files[0],\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const uploadData = new FormData();\n    uploadData.append(\"email\", this.state.email);\n    uploadData.append(\"username\", this.state.username);\n    uploadData.append(\"avatar\", this.state.avatar);\n    uploadData.append(\"instagram\", this.state.instagram);\n    uploadData.append(\"website\", this.state.website);\n    uploadData.append(\"description\", this.state.description);\n    uploadData.append(\"credit\", this.state.credit);\n\n    apiHandler\n      .UpdateMyProfile(uploadData)\n      .then(data => {\n        this.props.getTheUpdatedUser(data)\n        this.props.context.setUser(data)\n        this.setState({message: \"Successfully Updated\" });\n      })\n      .catch(error => console.log(error))\n      window.scrollTo(0,0);\n\n  };\n\n  displayFormPwd = () => {\n    this.setState({ isFormPwdDisplayed: !this.state.isFormPwdDisplayed })\n  }\n\n  handleChangePwd = (event) => {\n    event.preventDefault()\n    let passwords = {\n      formerPassword: this.state.formerPassword,\n      newPassword: this.state.newPassword\n    }\n\n    apiHandler\n      .changePassword(passwords)\n      .then(() => {\n        console.log('successfully changed')\n        this.setState({ isFormPwdDisplayed: !this.state.isFormPwdDisplayed, newPassword: \"\", formerPassword: \"\", message: \"password successfully changed\" })\n      })\n      .catch(err => console.log(err))\n\n  }\n\n  render() {\n    console.log(\"credit\", this.props.context.user.credit)\n    return (\n      <div className=\"flex\">\n\n        <form onSubmit={this.handleSubmit}>\n        {this.state.message && <p className=\"Success-message\">{this.state.message}</p>}\n          <label htmlFor=\"email\">Email</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.email}\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            required\n          />\n          <label htmlFor=\"username\">Username</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.username}\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            required\n          />\n\n\n          <label htmlFor=\"description\">Description</label>\n          <textarea\n            onChange={this.handleChange}\n            value={this.state.description}\n            type=\"text\"\n            id=\"description\"\n            name=\"description\"\n            maxLength=\"300\"\n            cols=\"30\"\n            rows=\"7\"\n          >\n            description\n          </textarea>\n\n          <label htmlFor=\"networks\">Networks</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.instagram}\n            type=\"text\"\n            id=\"networks\"\n            name=\"instagram\"\n            placeholder=\"instagram\"\n          />\n          <input\n            onChange={this.handleChange}\n            value={this.state.website}\n            type=\"text\"\n            id=\"networks\"\n            name=\"website\"\n            placeholder=\"website\"\n          />\n          <label htmlFor=\"avatar\">Avatar</label>\n          <img className=\"Miniature\" src={this.state.avatar} alt=\"\" />\n          <input\n            onChange={this.handleFileChange}\n            type=\"file\"\n            id=\"avatar\"\n            name=\"avatar\"\n          />\n\n          <label htmlFor=\"credit\">Credits</label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.credit}\n            type=\"number\"\n            id=\"credit\"\n            name=\"credit\"\n            min=\"0\"\n\n          />\n\n          <button className=\"Btn-black\" >Update</button>\n        </form>\n\n        {/* <button onClick={this.handleDelete} className=\"Btn-minimal\" >delete your account</button> */}\n\n        <div className=\"Update-password\">\n          {!this.state.isFormPwdDisplayed && <button onClick={this.displayFormPwd} className=\"Btn-black Password\">Change your password</button>}\n          {this.state.isFormPwdDisplayed && \n          <React.Fragment>\n            <form onSubmit={this.handleChangePwd}>\n              <label htmlFor=\"formerPassword\">Former password</label>\n              <input required name=\"formerPassword\" onChange={this.handleChange} id=\"formerPassword\" type=\"password\" placeholder=\"former password\"\n                value={this.state.formerPassword} />\n\n              <label htmlFor=\"newPassword\">New password</label>\n              <input required name=\"newPassword\" onChange={this.handleChange} id=\"newPassword\" type=\"password\" placeholder=\"new password\"\n                value={this.state.newPassword} />\n\n              <button className=\"Btn-black\">Update password</button>\n            </form>\n            <button onClick={this.displayFormPwd} className=\"Btn-minimal\">Close Form</button>\n          </React.Fragment>\n          }\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormUpdate));\n","import React, {Component} from \"react\";\nimport {withUser} from '../components/Auth/withUser'\nimport Credits from \"./../components/Credits\";\nimport MyActivity from \"./SubProfilePages/MyActivity\";\nimport MyCollection from \"./SubProfilePages/MyCollection\";\nimport MyCreations from \"./SubProfilePages/MyCreations\";\nimport FormUpdateProfile from \"./SubProfilePages/FormUpdateProfile\";\n\n//CSS\nimport \"../styles/Profile.css\"\n\nclass Profile extends Component {\n\n  state={\n    displayCrea : false,\n    displayColl:false,\n    displayAct:true,\n    displayUpdate:false,\n    user : null\n  }  \n\n  handleClick =(event)=>{\n    if (this.state[event.target.id]===false){\n    this.setState ({\n      displayCrea : false,\n      displayColl:false,\n      displayAct:false,\n      displayUpdate:false\n    })\n  this.setState ({[event.target.id] : !this.state[event.target.id]})}\n  }\n  \n  getTheUpdatedUser=(userInCallback)=>{\n    this.setState({user: userInCallback})\n  }\n  \n  componentDidMount(){\n    window.scrollTo(0, 0);\n    this.setState({user: this.props.context.user})\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.user){\n      if (prevState.user.credit!==this.state.user.credit ||prevState.user.avatar!==this.state.user.avatar ){\n      this.setState({user:this.state.user})\n        console.log('kiki')}\n    }\n  }\n\n  render(){\n    // console.log(\"profile state: \",this.state)\n    // const {user} = this.props.context\n    const {displayCrea, displayColl, displayAct, displayUpdate, user} = this.state\n    if (!user){return <div>Loading</div>}\n\n    const isActive = { fontWeight: \"500\" }\n    return (\n      <div className=\"Profile\">\n        <header className=\"flex\">\n          <div className=\"Profile-title flex\">\n            <img className=\"Avatar\" src={user.avatar} alt=\"user avatar\" />\n            <h1>Profile</h1>\n            <img\n              id=\"displayUpdate\"\n              onClick={this.handleClick}\n              src=\"img/edit-btn.svg\"\n              alt=\"edit-icon\"\n            />\n          </div>\n          <Credits user={user} />          \n        </header>\n        \n        <nav className=\"Profile-nav\">\n          <ul>\n            <li\n              id=\"displayCrea\"\n              style={displayCrea ? isActive : null}\n              onClick={this.handleClick}\n            >\n              My Creations\n            </li>\n            <span>|</span>\n            <li\n              id=\"displayColl\"\n              style={displayColl ? isActive : null}\n              onClick={this.handleClick}\n            >\n              My Collection\n            </li>\n            <span>|</span>\n            <li\n              id=\"displayAct\"\n              style={displayAct ? isActive : null}\n              onClick={this.handleClick}\n            >\n              My Activity\n            </li>\n          </ul>\n        </nav>\n        { displayCrea && <MyCreations /> }\n        { displayColl && <MyCollection /> }\n        { displayAct && <MyActivity getTheUpdatedUser={this.getTheUpdatedUser}/> }\n        { displayUpdate && <FormUpdateProfile getTheUpdatedUser={this.getTheUpdatedUser}/> }\n      </div>\n    );\n  }\n  \n};\n\nexport default withUser(Profile);\n","import React, { Component } from \"react\";\nimport api from \"../api/apiHandler\";\nimport ArtworkCard from \"../components/ArtworkCard\";\nimport Loading from \"../components/Loading\";\n\n\nexport default class Artist extends Component {\n  state = {\n    artworks: null,\n  };\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    const userId = this.props.match.params.id;\n    api\n      .getOneCreator(userId)\n      .then((res) => this.setState({ artworks: res }))\n      .catch((err) => console.log(err));\n  }\n  render() {\n    const {artworks} = this.state\n    if (!artworks) return <Loading text=\"Artist\" />;\n    return (\n      <div>\n        <section className=\"Top-artwork Grid40-60\" >\n          <div className=\"Top-details Artist slide-in-bid\">\n            <h1>{artworks[0].creator.username}</h1>\n            <p>{artworks[0].creator.description}</p>\n\n            <div>\n              {artworks[0].creator.networks.instagram && (\n                <a\n                  href={artworks[0].creator.networks.instagram}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Instagram\n                </a>\n              )}\n              { artworks[0].creator.networks.website && (\n                  <React.Fragment>\n                    <span> | </span>\n                    <a\n                      href={artworks[0].creator.networks.website}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Website\n                    </a>\n                  </React.Fragment>\n                )}\n            </div>\n          </div>\n          <div>\n            <img className=\"Avatar-img slide-in-bid delay\" src={artworks[0].creator.avatar} alt={artworks[0].creator.username} />\n          </div>\n        </section>\n\n        <section className=\"More-artworks init-margin\">\n          <h4 className=\"\">Creations</h4>\n          <section className=\"Cards-gallery\">\n            {artworks.map((artwork) => (\n                <ArtworkCard key={artwork._id} artwork={artwork} />\n              ))}\n          </section>\n        </section>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\n\nexport class NotFound extends Component {\n    render() {\n        return (\n            <div className=\"NotFound\">\n                <h1>Oups,\n                are you lost?\n                </h1>\n                <Link className=\"Btn-minimal\" to=\"/\" >Please back home</Link>\n            </div>\n        )\n    }\n}\nexport default NotFound\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiHandler from \"../api/apiHandler\";\n//import ArtistCard from \"./../components/ArtistCard\";\nimport ArtworkCard from \"../components/ArtworkCard\";\nimport Loading from \"../components/Loading\";\n\n\n//styles\nimport \"./../styles/Results.css\"\n\nexport default class Results extends Component {\n  state = {\n    artworksMatch: null,\n    artistsMatch: null\n  };\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    if (!this.props.searchedValue) {\n      this.setState({ artworksMatch: []});\n      this.setState({ artistsMatch: []});\n    } else {\n      apiHandler\n        .getResults(this.props.searchedValue)\n        .then((data) => {\n          this.setState({ artworksMatch: data.matchArtwork});\n          this.setState({ artistsMatch: data.matchArtist});\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }    \n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchedValue !== this.props.searchedValue) {\n      apiHandler\n        .getResults(this.props.searchedValue)\n        .then((data) => {\n          this.setState({ artworksMatch: data.matchArtwork});\n          this.setState({ artistsMatch: data.matchArtist});\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n  render() {\n    const {artworksMatch, artistsMatch} = this.state;\n    if (!artworksMatch || !artistsMatch) return <Loading text=\"Art\" />;\n    return (\n      <div className=\"Results init-margin\">\n          <h2>Results for: <span className=\"Searched-keyword\">{this.props.searchedValue}</span></h2>\n\n          {(artistsMatch.length === 0 && artworksMatch.length === 0) ? \n          <section>\n            <h2 className=\"No-results\">Sorry,<br/> no results found…</h2>\n            <Link className=\"Btn-minimal\" to=\"/\">Back to home</Link>\n          </section>\n          :\n          <React.Fragment>\n            <section className=\"Artist-result\">\n              <h3>Artists</h3>\n              {artistsMatch.length === 0 ? <p>No results found</p> : \n                artistsMatch.map(el =>\n                <Link  key={el._id} art={el} to={`/artist/${el.creator._id}`} >{el.creator.username}</Link> )\n              }\n              </section>\n\n              <section>\n                <h3>Artworks</h3>\n                <section className=\"Cards-gallery\">\n                {artworksMatch.length === 0 ? <p>No results found</p> : \n                artworksMatch.map((el) => (\n                  <ArtworkCard key={el._id} artwork={el} />\n                ))}\n                </section>\n            </section>\n          </React.Fragment>\n          }\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport \"../../styles/BidStatus.css\";\nimport {withUser} from './../Auth/withUser';\nimport EthToDollars from \"./../../controllers/EthToDollars\";\n\nexport class IsActive extends Component {\n  state = {\n    isFormOpen: false,\n    isSubmit: false,\n    bidValue: 0,\n    currentInput: \"\",\n    message:\"\",\n    displayMessage : false,\n    dollars: null,\n    currentHighestBids: null // sum of user's current bid values if they are highest\n  };\n\n  componentDidMount() {\n    if (this.props.auction.bids.length>0) {\n      this.setState({ bidValue: this.props.auction.bids[0].bidValue })\n    } else {\n      this.setState({bidValue : this.props.auction.initialPrice })\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.auction._id !== this.props.auction._id) this.setState({displayMessage: false, currentInput: \"\", isFormOpen: false});\n\n    if(prevProps.auction._id !== this.props.auction._id  || prevProps.auction !== this.props.auction) {\n    // if(prevProps.auction._id !== this.props.auction._id ) {\n      if (this.props.auction.bids.length>0) {\n        this.setState({ bidValue: this.props.auction.bids[0].bidValue })\n      } else {\n        this.setState({bidValue : this.props.auction.initialPrice })\n      }\n    }\n    if (prevState.bidValue !== this.state.bidValue) {\n\n      EthToDollars(this.state.bidValue)\n      .then(res => this.setState({dollars: res}))\n      .catch(err=> console.log(err));\n    }\n  }\n\n\n  displayBidForm = () => {\n    if (this.props.context.user){\n    this.setState({ isFormOpen: !this.state.isFormOpen, isSubmit: false });}\n    else{this.setState({message : \"You have to log in to place a bid\", displayMessage : !this.state.displayMessage})}\n  };\n\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    this.setState({ currentInput: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // this.setState({ bidValue: this.state.currentInput, isFormOpen: false, isSubmit: true }, () => {\n    //   apiHandler\n    //     .addABid(this.state.bidValue, this.props.auction._id)\n    //     .then(this.setState({ currentInput: this.state.bidValue + 0.01 }))\n    //     .catch((err) => console.log(err));\n    // });\n\n    if (this.state.currentInput){\n      \n      // get value of user's current highest bids\n      apiHandler.getMyCurrentBids() // get array of all active auctions on which user has already bidded\n      .then(res=>{\n        let currentHighestBids = 0 \n        if (res.length!==0){ // keep auctions where user is last bidder\n        currentHighestBids = res.filter(auction=>auction.bids[0].bidder._id===this.props.context.user._id && auction._id!==this.props.auction._id);\n        if (currentHighestBids.length===0) {\n          currentHighestBids = 0\n        } else { // add bid values\n          currentHighestBids = currentHighestBids.reduce((acc, el)=>acc+el.bids[0].bidValue, 0)\n        }\n      } this.setState({currentHighestBids: currentHighestBids}, ()=>{\n        if ((this.props.context.user.credit - this.state.currentHighestBids)>=this.state.currentInput) \n        { //user has enough credit\n        this.setState({ bidValue: this.state.currentInput, isFormOpen: !this.state.isFormOpen, isSubmit: true},  () => {\n          apiHandler\n            .addABid(this.state.bidValue, this.props.auction._id)\n            .then((res) => {\n              console.log(res)\n              this.setState({message:\"Thanks for your bid\", displayMessage: true})})\n            .catch((err) => console.log(err));\n        });\n        } else { //user is trying to bid over their credit\n          this.setState({message:\"You don't have enough credit for this bid\", displayMessage: true})\n        }\n      })\n    })\n      .catch(err=>console.log(err))\n      \n  }\n    \n  };\n\n  render() {\n    const { isFormOpen, isSubmit, bidValue, currentInput, message, displayMessage, dollars, } = this.state;\n    const dollarsFormat = new Intl.NumberFormat().format(dollars)\n    // console.log(bidValue)\n    return (\n      <div className=\"BidStatus active\">\n        <div className=\"Auction-on flex\">\n          <div className=\"Infos-sale\">\n            <h5>Current Bid</h5>\n            {this.props.auction.bids[0] && <p className=\"Dollars\">by {this.props.auction.bids[0].bidder.username}</p>\n}\n            <p className=\"Price\">\n              {bidValue}\n              <span className=\"Currency\">ETH</span>\n            </p>\n            <p className=\"Dollars\">${dollarsFormat}</p>\n          </div>\n\n          <button onClick={this.displayBidForm} className=\"Btn-bid\">\n            {!isFormOpen ? \"Place a bid\" : \"X\"}\n          </button>\n        </div>\n        \n        {isFormOpen && !isSubmit && (\n          <form onSubmit={this.handleSubmit} className=\"Input-bid flex slide-in-bid\">\n            <input\n              required\n              type=\"number\"\n              id=\"bidValue\"\n              name=\"bidValue\"\n              min={Number(bidValue) + 0.01}\n              step=\"0.01\"\n              placeholder=\"Place your bid\"\n              onChange={this.handleChange}\n              value={currentInput}\n            />\n\n            <button className=\"Btn-bid\">Submit</button>\n          </form>\n        )}\n        {displayMessage && \n            <h5 style={{marginTop: \"20px\", color: \"#00f035\"}}>{message}</h5>\n        }\n      </div>\n    );\n  }\n}\n\nexport default withUser(IsActive);\n","import React from \"react\";\nimport \"../../styles/BidStatus.css\";\n\nfunction NeverSold() {\n  return (\n    <div className=\"BidStatus\">\n      <p>Not For Sale</p>\n    </div>\n  );\n}\n\nexport default NeverSold;\n","import React, { Component } from 'react'\nimport \"../../styles/BidStatus.css\";\nimport EthToDollars from \"./../../controllers/EthToDollars\";\n\nexport default class IsSold extends Component {\n\n  state = {\n    dollars: null\n  }\n  componentDidMount(){\n    EthToDollars(this.props.bids[0].bidValue)\n      .then(res => this.setState({dollars: res}))\n      .catch(err=> console.log(err))\n  }\n  render() {\n    \n  const { bids } = this.props;\n  const {dollars} = this.state;\n  const dollarsFormat = new Intl.NumberFormat().format(dollars)\n\n    return (\n    <div className=\"BidStatus flex\">\n      <div className=\"Infos-sale\">\n        <h5>Sold For</h5>\n        <p className=\"Price\">\n          {bids[0].bidValue}\n          <span className=\"Currency\">ETH</span>\n        </p>\n        <p className=\"Dollars\">${dollarsFormat}</p>\n      </div>\n      <div className=\"Infos-owner\">\n        <h5>Owned by</h5>\n        <p>{bids[0].bidder.username}</p>\n      </div>\n    </div>\n    )\n  }\n}\n\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api/apiHandler\";\n\nimport ArtworkCard from \"../components/ArtworkCard\";\nimport Loading from \"../components/Loading\";\nimport IsActive from \"../components/BidStatus/IsActive\";\nimport NeverSold from \"../components/BidStatus/NeverSold\";\nimport IsSold from \"../components/BidStatus/IsSold\";\n\nimport \"../styles/OneArtwork.css\";\n\n\nexport class OneArtwork extends Component {\n  state = {\n    artwork: null,\n    otherArtworks: null,\n    auction: null,\n    isActive: false\n  };\n \n  intervalID; \n     /* \n        declare a member variable to hold the interval ID\n        that we can reference later.\n      */\n\n  getArtwork() { \n    const artworkId = this.props.match.params.id;\n    let creatorId;\n    api\n      .getOneArtwork(artworkId)\n      .then((res) => {\n        creatorId = res.creator._id;\n        this.setState({ artwork: res });\n        api.getOneCreator(creatorId).then((res) => {\n          const selectArtworks = res.slice(0, 4);\n          this.setState({ otherArtworks: selectArtworks });\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n  getAuction() { \n    const artworkId = this.props.match.params.id;\n    api\n      .getLastAuction(artworkId)\n      .then((res) => {\n        if (res.active) {\n          this.setState({ auction: res, isActive: true });\n        } else if (!res.active && res.bids) {\n          this.setState({ auction: res, isActive: false });\n        } else {\n          this.setState({auction: null, isActive: false})\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  componentDidMount() {\n    console.log(\"mount\")\n    this.getArtwork();\n    this.getAuction();\n    window.scrollTo(0, 0);\n    this.intervalID = setInterval(()=>this.getAuction(), 10000);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    \n    if (prevState.artwork !== null) {\n      if (prevState.artwork._id !== this.props.match.params.id) {\n        this.getArtwork();\n        this.getAuction();\n        window.scrollTo(0,0); \n\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    /*\n      stop getData() from continuing to run even\n      after unmounting this component\n    */\n    clearInterval(this.intervalID);\n  }\n\n  render() {\n    const { artwork, otherArtworks, auction, isActive } = this.state;\n    if (!artwork || !otherArtworks) {\n      return <Loading text=\"Art\" />;\n    }\n\n    return (\n      <div className=\"OneArtwork\">\n        {artwork && (\n          <section className=\"Top-artwork Grid60-40 \">\n            <div className=\"slide-in-bid\">\n              <img\n                className=\"Top-details-img-size\"\n                src={artwork.image}\n                alt=\"hey\"\n              />\n              {auction && !isActive && <IsSold bids={auction.bids}/>}\n              {auction && isActive && <IsActive auction={auction} />}\n              {!auction && !isActive && <NeverSold />}\n            </div>\n            <div className=\"Top-details slide-in-bid delay\">\n              <h1>{artwork.title}</h1>\n              <Link to={`/artist/${artwork.creator._id}`}>\n                <h4>@{artwork.creator.username}</h4>\n              </Link>\n              <p>{artwork.description}</p>\n            </div>\n          </section>\n        )}\n\n        <section className=\"More-artworks init-margin \">\n          <h4 className=\"\">From the same artist</h4>\n          <section className=\"Cards-gallery\">\n            {otherArtworks &&\n              otherArtworks.map((artwork) => (\n                <ArtworkCard key={artwork._id} artwork={artwork} />\n              ))}\n          </section>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default OneArtwork;\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\n// Components\nimport NavMain from \"./components/NavMain\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Footer from \"./components/Footer\";\n// Pages\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport Profile from \"./pages/Profile\";\nimport Artist from \"./pages/Artist\";\nimport NotFound from \"./pages/NotFound\";\n\nimport Results from \"./pages/Results\";\nimport OneArtwork from \"./pages/OneArtwork\";\n\nexport default class App extends Component {\n  state = {\n    inputSearch: \"\",\n    searchedValue: \"\",\n  };\n  getInputSearch = (searchInput) => {\n    this.setState({ inputSearch: searchInput });\n  };\n  clearInputSearch = () => {\n    this.setState({inputSearch: \"\"})\n  }\n  getSearchedValue = () => {\n    this.setState({ searchedValue: this.state.inputSearch }, () =>\n    this.clearInputSearch());\n  };\n  render() {\n\n    return (\n      <div className=\"App\">\n        <NavMain\n          getInputSearch={this.getInputSearch}\n          inputSearch={this.state.inputSearch}\n          getSearchedValue={this.getSearchedValue}\n        />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/results\" render={() => (\n              <Results searchedValue={this.state.searchedValue}/>\n            )}\n          />\n          <Route exact path=\"/artworks/:id\" component={OneArtwork} />\n          <Route exact path=\"/artist/:id\" component={Artist} />\n          <Route exact path=\"/signin\" component={Signin} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <ProtectedRoute exact path=\"/profile\" component={Profile} />\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n\n        <Footer />\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}