(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(t,e,a){},19:function(t,e,a){},65:function(t,e,a){},66:function(t,e,a){},67:function(t,e,a){},68:function(t,e,a){},69:function(t,e,a){},70:function(t,e,a){},71:function(t,e,a){},72:function(t,e,a){},73:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(33),i=a.n(r),c=a(6),o=a(2),l=a(3),d=a(5),u=a(4),h=a(20),j=a.n(h).a.create({baseURL:"https://auctions-art-amateurs.herokuapp.com",withCredentials:!0});function p(t){if(t.response.data)throw console.log(t.response&&t.response.data),t;throw t}var b={service:j,signup:function(t){return j.post("/api/auth/signup",t).then((function(t){return t.data})).catch(p)},signin:function(t){return j.post("/api/auth/signin",t).then((function(t){return t.data})).catch(p)},isLoggedIn:function(){return j.get("/api/auth/isLoggedIn").then((function(t){return t.data})).catch(p)},logout:function(){return j.get("/api/auth/logout").then((function(t){return t.data})).catch(p)},delete:function(){return j.get("/api/auth/delete").then((function(t){return t.data})).catch(p)},UpdateMyProfile:function(t){return j.patch("/api/profile/my-profile/update",t).then((function(t){return console.log("in ApiHandler",t.data),t.data})).catch(p)},getMyProfile:function(){return j.get("/api/profile/my-profile").then((function(t){return t.data})).catch(p)},getMyCurrentBids:function(){return j.get("/api/profile/my-current-bids").then((function(t){return t.data})).catch(p)},getMyCurrentSales:function(){return j.get("/api/profile/my-current-sales").then((function(t){return t.data})).catch(p)},getMyCollection:function(){return j.get("/api/profile/my-collection").then((function(t){return t.data})).catch(p)},getMyCreations:function(){return j.get("/api/profile/my-creations").then((function(t){return t.data})).catch(p)},getSalesOn:function(){return j.get("/api/artworks").then((function(t){return t.data})).catch(p)},getOneArtwork:function(t){return j.get("/api/artworks/".concat(t)).then((function(t){return t.data})).catch(p)},getOneCreator:function(t){return j.get("/api/artworks/artist/".concat(t)).then((function(t){return t.data})).catch(p)},addAnArtwork:function(t){return j.post("/api/artworks/new",t).then((function(t){return t.data})).catch(p)},getResults:function(t){return j.get("/api/artworks/results?search=".concat(t)).then((function(t){return t.data})).catch(p)},getLastAuction:function(t){return j.get("/api/auctions/".concat(t,"/last-auction")).then((function(t){return t.data})).catch(p)},addABid:function(t,e){return j.patch("/api/auctions/".concat(e,"/new-bid"),{bidValue:t}).then((function(t){return console.log("AddaBid ",t.data),t.data})).catch(p)},addAnAuction:function(t){return j.post("/api/auctions/new",t).then((function(t){return t.data})).catch(p)},closeAnAuction:function(t,e){return console.log("new owner id dans le api handler",e),j.patch("/api/auctions/close-auction/".concat(t),e).then((function(t){return t.data})).catch(p)},deleteAuction:function(t){return j.delete("/api/auctions/".concat(t)).then((function(t){return t.data})).catch(p)},changePassword:function(t){return j.patch("/api/auth/update-password",t).then((function(t){return t.data})).catch(p)},updateAnArtwork:function(t,e){return j.patch("/api/artworks/".concat(t),e).then((function(t){return t.data})).catch(p)},deleteAnArtwork:function(t){return j.delete("/api/artworks/".concat(t)).then((function(t){return t.data})).catch(p)}},m=s.a.createContext(),O=a(0),g=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={user:null,isLoggedIn:!1,isLoading:!0},t.setUser=function(e){console.log(e,"user froM db"),t.setState({user:e,isLoggedIn:!0})},t.removeUser=function(){t.setState({user:null,isLoggedIn:!1})},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.isLoggedIn().then((function(e){t.setState({user:e,isLoggedIn:!0,isLoading:!1})})).catch((function(e){t.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var t={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return Object(O.jsx)(m.Provider,{value:t,children:this.props.children})}}]),a}(n.Component),f=a(7),x=a(14),v=function(t){return function(e){return Object(O.jsx)(m.Consumer,{children:function(a){return Object(O.jsx)(t,Object(x.a)(Object(x.a)({},e),{},{context:a}))}})}},y=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).handleEnter=function(e){"Enter"===e.key&&(t.props.getSearchedValue(),t.props.history.push("/results"))},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return Object(O.jsx)("div",{className:"SearchBar",children:Object(O.jsx)("input",{onChange:function(e){return t.props.getInputSearch(e.target.value)},onKeyDown:this.handleEnter,type:"text",value:this.props.inputSearch,placeholder:"Search artworks or artists"})})}}]),a}(n.Component),w=Object(f.g)(y),k=(a(65),v((function(t){var e=t.context;return Object(O.jsxs)("nav",{className:"NavMain text-focus-in",children:[Object(O.jsx)(c.b,{to:"/",children:Object(O.jsx)("h3",{className:"logo",children:".aaa"})}),Object(O.jsx)(w,{getInputSearch:t.getInputSearch,inputSearch:t.inputSearch,getSearchedValue:t.getSearchedValue}),Object(O.jsxs)("ul",{className:"nav-list",children:[e.isLoggedIn&&Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{className:"Btn-minimal black",to:"/profile",children:"Profile"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{className:"Btn-minimal",onClick:function(){b.logout().then((function(){e.removeUser()})).catch((function(t){console.log(t)}))},children:"Logout"})})]}),!e.isLoggedIn&&Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{className:"Btn-minimal black",to:"/signin",children:"Log in"})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{className:"Btn-minimal black",to:"/signup",children:"Create account"})})]})]})]})}))),C=a(36),S=v((function(t){var e=t.component,a=t.context,n=Object(C.a)(t,["component","context"]);return a.isLoading?null:a.isLoggedIn?Object(O.jsx)(f.b,Object(x.a)(Object(x.a)({},n),{},{render:function(t){return Object(O.jsx)(e,Object(x.a)({},t))}})):Object(O.jsx)(f.a,{to:"/signin"})})),N=function(){return Object(O.jsx)("footer",{className:"flex",children:"\xa92021 Magali Fort | Tha\xefs Haugel | Romain Benard"})},A=a(35),F=a(20);var P=function(t){return F.get("https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=BTC,USD,EUR").then((function(e){return(e.data.USD*t).toFixed()})).catch((function(t){return console.log(t)}))},D=(a(66),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={auction:null,dollars:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.getLastAuction(this.props.artwork._id).then((function(e){return t.setState({auction:e})})).catch((function(t){return console.log(t)}))}},{key:"componentDidUpdate",value:function(t,e){var a=this;this.state.auction&&e.auction!==this.state.auction&&(this.state.auction.active&&this.state.auction.bids.length>0||this.state.auction&&!this.state.auction.active?P(this.state.auction.bids[0].bidValue).then((function(t){return a.setState({dollars:t})})).catch((function(t){return console.log(t)})):this.state.auction.active&&0===this.state.auction.bids.length&&P(this.state.auction.initialPrice).then((function(t){return a.setState({dollars:t})})).catch((function(t){return console.log(t)})))}},{key:"render",value:function(){var t=this.props.artwork,e=this.state,a=e.auction,n=e.dollars;return Object(O.jsx)("div",{className:"ArtworkCard",children:Object(O.jsxs)(c.b,{to:"/artworks/".concat(t._id),children:[Object(O.jsx)("img",{src:t.image,alt:"".concat(t.title)}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("h5",{children:t.title}),Object(O.jsx)("h6",{children:t.creator?t.creator.username:"former user of the platform"}),Object(O.jsxs)("div",{className:"Bid-status",children:[!a&&Object(O.jsx)("p",{children:"Not for sale"}),a&&a.active&&a.bids.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Current Price"}),Object(O.jsxs)("p",{className:"Price",children:[a.bids[0].bidValue,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",n]})]}),a&&a.active&&0===a.bids.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Current Price"}),Object(O.jsxs)("p",{className:"Price",children:[a.initialPrice,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",n]})]}),a&&!a.active&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Sold for"}),Object(O.jsxs)("p",{className:"Price",children:[a.bids[0].bidValue,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",n]})]})]})]})]},t._id)})}}]),a}(n.Component)),M=(a(67),a(68),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={artworks:null,auctionTop:null,dollars:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.getSalesOn().then((function(e){return t.setState({artworks:e},(function(){t.state.artworks.length>0&&b.getLastAuction(t.state.artworks[0]._id).then((function(e){return t.setState({auctionTop:e},(function(){0===t.state.auctionTop.bids.length?P(t.state.auctionTop.initialPrice).then((function(e){return t.setState({dollars:e})})).catch((function(t){return console.log(t)})):P(t.state.auctionTop.bids[0].bidValue).then((function(e){return t.setState({dollars:e})})).catch((function(t){return console.log(t)}))}))})).catch((function(t){return console.log(t)}))}))}))}},{key:"render",value:function(){var t=this.state,e=t.artworks,a=t.auctionTop,n=t.dollars;if(!e||!a)return Object(O.jsx)("div",{});var s=Object(A.a)(e),r=s[0],i=s.slice(1);return Object(O.jsxs)("div",{className:"Home",children:[e.length>0&&Object(O.jsxs)("section",{className:"Top-artwork ",children:[Object(O.jsx)("div",{className:"Top-arwortk-Bg slide-in-top"}),Object(O.jsxs)("div",{className:"Top-artwork-infos slide-in-bottom",children:[Object(O.jsx)("h1",{children:r.title}),Object(O.jsxs)("h4",{children:["@",r.creator.username]}),Object(O.jsxs)("div",{className:"Bid-home",children:[Object(O.jsx)("h4",{children:"Current Bid"}),Object(O.jsxs)("p",{className:"Price",children:[0===a.bids.length?a.initialPrice:a.bids[0].bidValue,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",n]})]}),Object(O.jsx)(c.b,{to:"/artworks/".concat(r._id),children:Object(O.jsx)("button",{className:"Btn-black",children:"See the auction"})})]}),Object(O.jsx)("img",{className:"Top-img-size slide-in-bottom delay",src:r.image,alt:"hey"})]}),Object(O.jsxs)("section",{className:"Cards-gallery",children:[Object(O.jsx)("h3",{children:"Discover current auctions."}),e&&i.map((function(t){return Object(O.jsx)(D,{artwork:t},t._id)}))]})]})}}]),a}(s.a.Component)),U=a(9),_=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={email:"",password:"",message:""},t.handleChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(U.a)({},a,n))},t.handleSubmit=function(e){e.preventDefault(),b.signin(t.state).then((function(e){t.props.context.setUser(e)})).catch((function(e){console.log(e),t.setState({message:"Oups, Bad Credentials"})}))},t}return Object(l.a)(a,[{key:"render",value:function(){return this.props.context.user?Object(O.jsx)(f.a,{to:"/profile"}):Object(O.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",name:"email"}),Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",name:"password"}),Object(O.jsx)("button",{className:"Btn-black  ",children:"Submit"}),this.state.message&&Object(O.jsx)("p",{className:"Alert-message",children:this.state.message})]})}}]),a}(n.Component),T=Object(f.g)(v(_)),B=function(t){return Object(O.jsxs)("div",{className:"flex Auth-container",children:[Object(O.jsx)("h2",{children:"Connect to your account"}),Object(O.jsx)(T,{})]})},I=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={email:"toto@gmail.com",password:"toto",username:"toto",avatar:"https://cdn.boldomatic.com/content/post/fl4sZw/LOVE-ME-I-M-AN-ARTIST?size=800",instagram:"",website:"",description:"",credit:0,DetailsOpen:!1,message:""},t.handleChange=function(e){var a=e.target.value,n=e.target.name;t.setState(Object(U.a)({},n,a))},t.handleFileChange=function(e){console.log("The file added by the use is: ",e.target.files[0]),t.setState({avatar:e.target.files[0]})},t.handleToggle=function(){t.setState({DetailsOpen:!t.state.DetailsOpen})},t.handleSubmit=function(e){e.preventDefault();var a=new FormData;a.append("email",t.state.email),a.append("password",t.state.password),a.append("username",t.state.username),a.append("avatar",t.state.avatar),a.append("instagram",t.state.instagram),a.append("website",t.state.website),a.append("description",t.state.description),a.append("credit",t.state.credit),b.signup(a).then((function(e){console.log("this.props.context",t.props.context),t.props.context.setUser(e)})).catch((function(e){t.setState({message:"Oups, email or username already exist"}),console.log(e)}))},t}return Object(l.a)(a,[{key:"render",value:function(){return this.props.context.user?Object(O.jsx)(f.a,{to:"/profile"}):(console.log("message is",this.state.message),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{required:!0,onChange:this.handleChange,value:this.state.email,type:"email",id:"email",name:"email"}),Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{required:!0,onChange:this.handleChange,value:this.state.password,type:"password",id:"password",name:"password"}),Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{required:!0,onChange:this.handleChange,value:this.state.username,type:"text",id:"username",name:"username"}),Object(O.jsx)("label",{htmlFor:"credit",children:"Credits"}),Object(O.jsx)("input",{required:!0,onChange:this.handleChange,value:this.state.credit,type:"number",id:"credit",name:"credit",min:"0"}),Object(O.jsx)("button",{className:"Btn-minimal",onClick:this.handleToggle,children:this.state.DetailsOpen?"Close":"Add more infos"}),this.state.DetailsOpen&&Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsx)("label",{htmlFor:"avatar",children:"Avatar"}),Object(O.jsx)("input",{onChange:this.handleFileChange,type:"file",id:"avatar",name:"avatar"}),Object(O.jsx)("label",{htmlFor:"instagram",children:"Instagram"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.instagram,type:"text",id:"instagram",name:"instagram"}),Object(O.jsx)("label",{htmlFor:"website",children:"Website"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.website,type:"text",id:"website",name:"website"}),Object(O.jsx)("label",{htmlFor:"description",children:"Description"}),Object(O.jsx)("textarea",{onChange:this.handleChange,value:this.state.description,type:"text",id:"description",name:"description",maxLength:"300",cols:"30",rows:"7",children:"Description"})]}),Object(O.jsx)("button",{className:"Btn-black",children:"Submit"}),this.state.message&&Object(O.jsx)("p",{className:"Alert-message",children:this.state.message})]}))}}]),a}(n.Component),V=Object(f.g)(v(I)),L=function(t){return Object(O.jsxs)("div",{className:"flex Auth-container",children:[Object(O.jsx)("h2",{children:"Create your account"}),Object(O.jsx)(V,{})]})},E=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={credit:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;P(this.props.user.credit).then((function(e){t.setState({credit:e})}))}},{key:"render",value:function(){var t=this.props.user,e=this.state.credit;return Object(O.jsxs)("div",{className:"Profile-credits",children:[Object(O.jsx)("h4",{children:"Credits"}),Object(O.jsxs)("p",{className:"Price",children:[t.credit,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",e]})]})}}]),a}(n.Component),H=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={myCurrentBids:null,myCurrentSales:null,boolean:!0},t.closeTheAuction=function(e){e.bids[0]?b.closeAnAuction(e._id,{owner:e.bids[0].bidder._id}).then((function(){return t.setState({boolean:!t.state.boolean})})).catch((function(t){return console.log(t)})):b.deleteAuction(e._id).then((function(){return t.setState({boolean:!t.state.boolean})})).catch((function(t){return console.log(t)}))},t}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(t,e){var a=this;e.myCurrentSales&&e.boolean!==this.state.boolean&&b.getMyCurrentSales().then((function(t){a.setState({myCurrentSales:t})})).catch((function(t){return console.log(t)}))}},{key:"componentDidMount",value:function(){var t=this;b.getMyCurrentBids().then((function(e){t.setState({myCurrentBids:e})})).catch((function(t){return console.log(t)})),b.getMyCurrentSales().then((function(e){t.setState({myCurrentSales:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this;return this.state.myCurrentSales&&this.state.myCurrentBids&&this.props.context.user?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"My current bids"}),0===this.state.myCurrentBids.length&&Object(O.jsx)("p",{children:"You haven't bid on any artwork lately."}),Object(O.jsx)("table",{className:"Profile-table",children:Object(O.jsx)("tbody",{children:this.state.myCurrentBids.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(c.b,{to:"artworks/".concat(e._artworkId._id),children:Object(O.jsx)("img",{className:"Miniature",src:e._artworkId.image,alt:e._artworkId.title})})}),Object(O.jsxs)("td",{children:[Object(O.jsx)(c.b,{to:"artworks/".concat(e._artworkId._id),children:e._artworkId.title}),Object(O.jsxs)("p",{children:["Current bid: $",e.bids[0].bidValue," |",e.bids.filter((function(e){return e.bidder._id===t.props.context.user._id})).length>0&&" My last bid: ".concat(e.bids.filter((function(e){return e.bidder._id===t.props.context.user._id}))[0].bidValue)]})]})]},e._id)}))})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"My current Sales"}),0===this.state.myCurrentSales.length&&Object(O.jsx)("p",{children:"You don't have any sales in progress, you can add an auction at anytime."}),Object(O.jsx)("table",{className:"Profile-table Activity",children:Object(O.jsx)("tbody",{children:this.state.myCurrentSales.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(c.b,{to:"artworks/".concat(e._artworkId._id),children:Object(O.jsx)("img",{className:"Miniature",src:e._artworkId.image,alt:e._artworkId.title})})}),Object(O.jsxs)("td",{children:[Object(O.jsx)(c.b,{to:"artworks/".concat(e._artworkId._id),children:e._artworkId.title}),e.bids[0]?Object(O.jsxs)("p",{children:["Current bid: $",e.bids[0].bidValue," | Placed by: ",e.bids[0].bidder.username]}):Object(O.jsx)("p",{children:"No bid yet"})]}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(){return t.closeTheAuction(e)},className:"Btn-minimal",children:"Close auction"})})]},e._id)}))})})]})]}):Object(O.jsx)("div",{children:"Loading..."})}}]),a}(n.Component),q=v(Object(f.g)(H)),$=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={initialPrice:0,startingDate:null},t.handleSubmit=function(e){e.preventDefault();var a={initialPrice:t.state.initialPrice,_artworkId:t.props.artwork._id,startingDate:Date.now()};b.addAnAuction(a).then((function(){t.props.closeForm("displaySellForm"),console.log("created!")})).catch((function(t){return console.log(t)}))},t.handleChange=function(e){t.setState({initialPrice:e.target.value})},t}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("section",{children:[Object(O.jsx)("h3",{children:"Create an auction"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{required:!0,type:"text",readOnly:!0,value:this.props.artwork.title}),Object(O.jsx)("input",{required:!0,id:"initialPrice",onChange:this.handleChange,name:"initialPrice",value:this.state.initialPrice,type:"number",placeholder:"Initial price"}),Object(O.jsx)("button",{className:"Btn-black",children:"Create"})]})]})}}]),a}(n.Component),R=Object(f.g)(v($)),Y=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={myCollection:null,displaySellForm:!1,artworkToSell:null},t.handleClickSell=function(e){t.setState({displaySellForm:!0,artworkToSell:e})},t.handleChange=function(e){t.setState({initialValue:e.target.value})},t.closeForm=function(e){t.setState(Object(U.a)({},e,!1))},t}return Object(l.a)(a,[{key:"getCollection",value:function(){var t=this;b.getMyCollection().then((function(e){t.setState({myCollection:e})})).catch((function(t){return console.log(t)}))}},{key:"componentDidMount",value:function(){this.getCollection()}},{key:"componentDidUpdate",value:function(t,e){e.displaySellForm!==this.state.displaySellForm&&this.getCollection()}},{key:"render",value:function(){var t=this;return this.state.myCollection?Object(O.jsxs)("div",{className:"flex",children:[0===this.state.myCollection.length&&Object(O.jsx)("p",{children:"You don't have any artwork in your collection, buy some !"}),Object(O.jsx)("table",{className:"Profile-table",children:Object(O.jsx)("tbody",{children:this.state.myCollection.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(c.b,{to:"artworks/".concat(e._id),children:Object(O.jsx)("img",{className:"Miniature",src:e.image,alt:e.title})})}),Object(O.jsx)("td",{children:Object(O.jsxs)(c.b,{to:"artworks/".concat(e._id),children:[e.title," ",Object(O.jsxs)("span",{children:["by ",e.creator.username]})]})}),Object(O.jsx)("td",{children:!1===e.forSale?Object(O.jsx)("button",{onClick:function(){return t.handleClickSell(e)},children:Object(O.jsx)("img",{className:"Btn-icon",src:"img/auction-btn.svg",alt:"auction-btn"})}):Object(O.jsxs)("p",{children:["Auction",Object(O.jsx)("br",{}),"in progress"]})})]},e._id)}))})}),this.state.displaySellForm&&Object(O.jsx)(R,{artwork:this.state.artworkToSell,closeForm:this.closeForm})]}):Object(O.jsx)("div",{children:"Loading..."})}}]),a}(n.Component),z=(a(17),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={title:"",description:"",image:""},t.handleChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(U.a)({},a,n))},t.handleFileChange=function(e){t.setState({image:e.target.files[0]})},t.handleSubmit=function(e){e.preventDefault();var a=new FormData;a.append("title",t.state.title),a.append("description",t.state.description),a.append("image",t.state.image),b.addAnArtwork(a).then((function(){t.props.closeForm("displayAddForm"),console.log("artwork created!")})).catch((function(t){return console.log(t)}))},t}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("section",{children:[Object(O.jsx)("h3",{children:"Add an artwork"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{id:"title",name:"title",value:this.state.title,onChange:this.handleChange,type:"text",placeholder:"Title"}),Object(O.jsx)("textarea",{onChange:this.handleChange,value:this.state.description,type:"text",id:"description",name:"description",placeholder:"Description",cols:"30",rows:"7"}),Object(O.jsx)("input",{id:"image",name:"image",onChange:this.handleFileChange,type:"file",placeholder:"Upload the image"}),Object(O.jsx)("button",{className:"Btn-black",children:"Create"})]})]})}}]),a}(n.Component)),W=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={artwork:"",title:"",description:"",image:""},t.handleChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(U.a)({},a,n))},t.handleFileChange=function(e){t.setState({image:e.target.files[0]})},t.handleSubmit=function(e){e.preventDefault();var a=new FormData;a.append("title",t.state.title),a.append("description",t.state.description),a.append("image",t.state.image),b.updateAnArtwork(t.state.artwork._id,a).then((function(){console.log("artwork updated!"),t.props.closeForm("displayUpdateForm")})).catch((function(t){return console.log(t)}))},t.handleDelete=function(){b.deleteAnArtwork(t.state.artwork._id).then((function(){console.log("artwork deleted!"),t.props.closeForm("displayUpdateForm")})).catch((function(t){return console.log(t)}))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({artwork:this.props.artwork,title:this.props.artwork.title,description:this.props.artwork.description,image:this.props.artwork.image})}},{key:"componentDidUpdate",value:function(t,e){t.artwork._id!==this.props.artwork._id&&this.setState({artwork:this.props.artwork,title:this.props.artwork.title,description:this.props.artwork.description,image:this.props.artwork.image})}},{key:"render",value:function(){var t=this.state,e=t.title,a=t.description;return Object(O.jsxs)("section",{children:[Object(O.jsx)("h3",{children:"Update an artwork"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{id:"title",name:"title",value:e,onChange:this.handleChange,type:"text",placeholder:"Title"}),Object(O.jsx)("textarea",{onChange:this.handleChange,value:a,type:"text",id:"description",name:"description",placeholder:"Description",cols:"30",rows:"7"}),Object(O.jsx)("input",{id:"image",name:"image",onChange:this.handleFileChange,type:"file",placeholder:"Upload the image"}),Object(O.jsx)("button",{className:"Btn-black",children:"Update"})]}),Object(O.jsx)("button",{className:"Btn-minimal",onClick:this.handleDelete,children:"Delete"})]})}}]),a}(n.Component),J=v(function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={myCreations:null,displayAddForm:!1,displayUpdateForm:!1,displaySellForm:!1,artworkToSell:null,artworkToUpdate:null,message:""},t.getCreations=function(){b.getMyCreations().then((function(e){t.setState({myCreations:e})})).catch((function(t){return console.log(t)}))},t.handleClickSell=function(e){t.setState({displaySellForm:!0,displayUpdateForm:!1,displayAddForm:!1,artworkToSell:e})},t.handleClickAdd=function(){t.setState({displayAddForm:!0,displayUpdateForm:!1,displaySellForm:!1})},t.handleClickUpdate=function(e){t.setState({displayUpdateForm:!0,displayAddForm:!1,displaySellForm:!1,artworkToUpdate:e})},t.closeForm=function(e){t.setState(Object(U.a)({},e,!1))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getCreations()}},{key:"componentDidUpdate",value:function(t,e){e.displayAddForm===this.state.displayAddForm&&e.displaySellForm===this.state.displaySellForm&&e.displayUpdateForm===this.state.displayUpdateForm||this.getCreations()}},{key:"render",value:function(){var t=this;return this.state.myCreations?Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsxs)("section",{children:[0===this.state.myCreations.length&&Object(O.jsx)("p",{children:"You don't have any creation, add some !"}),this.state.message&&Object(O.jsx)("p",{className:"Sucess-message",children:this.state.message}),Object(O.jsx)("table",{className:"Profile-table",children:Object(O.jsx)("tbody",{children:this.state.myCreations.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(c.b,{to:"artworks/".concat(e._id),children:Object(O.jsx)("img",{className:"Miniature",src:e.image,alt:e.title})})}),Object(O.jsx)("td",{children:Object(O.jsx)(c.b,{to:"artworks/".concat(e._id),children:e.title})}),Object(O.jsx)("td",{children:e.owner===t.props.context.user._id&&Object(O.jsx)("button",{onClick:function(){return t.handleClickUpdate(e)},children:Object(O.jsx)("img",{className:"Btn-icon edit",src:"img/edit-btn.svg",alt:"auction-btn"})})}),Object(O.jsx)("td",{children:e.creator===e.owner?!1===e.forSale?Object(O.jsx)("button",{onClick:function(){return t.handleClickSell(e)},children:Object(O.jsx)("img",{className:"Btn-icon",src:"img/auction-btn.svg",alt:"auction-btn"})}):Object(O.jsxs)("p",{children:["Auction",Object(O.jsx)("br",{}),"in progress"]}):Object(O.jsx)("p",{children:"Sold"})})]},e._id)}))})}),Object(O.jsx)("button",{className:"Btn-black",onClick:this.handleClickAdd,children:"Add an artwork"})]}),this.state.displaySellForm&&Object(O.jsx)(R,{artwork:this.state.artworkToSell,closeForm:this.closeForm}),this.state.displayAddForm&&Object(O.jsx)(z,{closeForm:this.closeForm}),this.state.displayUpdateForm&&Object(O.jsx)(W,{closeForm:this.closeForm,artwork:this.state.artworkToUpdate})]}):Object(O.jsx)("div",{children:"Loading..."})}}]),a}(n.Component)),K=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={email:"",username:"",avatar:"",instagram:"",website:"",description:"",credit:0,isFormPwdDisplayed:!1,formerPassword:"",newPassword:"",message:""},t.handleChange=function(e){var a=e.target.value,n=e.target.name;t.setState(Object(U.a)({},n,a))},t.handleFileChange=function(e){console.log("The file added by the use is: ",e.target.files[0]),t.setState({avatar:e.target.files[0]})},t.handleSubmit=function(e){e.preventDefault();var a=new FormData;a.append("email",t.state.email),a.append("username",t.state.username),a.append("avatar",t.state.avatar),a.append("instagram",t.state.instagram),a.append("website",t.state.website),a.append("description",t.state.description),a.append("credit",t.state.credit),b.UpdateMyProfile(a).then((function(e){console.log(e),t.props.getTheUpdatedUser(e),t.setState({message:"Successfully Updated"})})).catch((function(t){return console.log(t)}))},t.displayFormPwd=function(){t.setState({isFormPwdDisplayed:!t.state.isFormPwdDisplayed})},t.handleChangePwd=function(e){e.preventDefault();var a={formerPassword:t.state.formerPassword,newPassword:t.state.newPassword};b.changePassword(a).then((function(){console.log("successfully changed"),t.setState({isFormPwdDisplayed:!t.state.isFormPwdDisplayed,newPassword:"",formerPassword:"",message:"password successfully changed"})})).catch((function(t){return console.log(t)}))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.getMyProfile().then((function(e){return t.setState({email:e.email,username:e.username,avatar:e.avatar,description:e.description,credit:e.credit,instagram:e.networks.instagram,website:e.networks.website})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return console.log("credit",this.props.context.user.credit),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.email,type:"email",id:"email",name:"email",required:!0}),Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.username,type:"text",id:"username",name:"username",required:!0}),Object(O.jsx)("label",{htmlFor:"description",children:"Description"}),Object(O.jsx)("textarea",{onChange:this.handleChange,value:this.state.description,type:"text",id:"description",name:"description",maxLength:"300",cols:"30",rows:"7",children:"description"}),Object(O.jsx)("label",{htmlFor:"networks",children:"Networks"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.instagram,type:"text",id:"networks",name:"instagram",placeholder:"instagram"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.website,type:"text",id:"networks",name:"website",placeholder:"website"}),Object(O.jsx)("label",{htmlFor:"avatar",children:"Avatar"}),Object(O.jsx)("img",{className:"Miniature",src:this.state.avatar,alt:""}),Object(O.jsx)("input",{onChange:this.handleFileChange,type:"file",id:"avatar",name:"avatar"}),Object(O.jsx)("label",{htmlFor:"credit",children:"Credits"}),Object(O.jsx)("input",{onChange:this.handleChange,value:this.state.credit,type:"number",id:"credit",name:"credit",min:"0"}),Object(O.jsx)("button",{className:"Btn-black",children:"Update"}),this.state.message&&Object(O.jsx)("p",{className:"Success-message",children:this.state.message})]}),Object(O.jsxs)("div",{children:[!this.state.isFormPwdDisplayed&&Object(O.jsx)("button",{onClick:this.displayFormPwd,className:"Btn-black",children:"Change your password"}),this.state.isFormPwdDisplayed&&Object(O.jsxs)("form",{onSubmit:this.handleChangePwd,children:[Object(O.jsx)("label",{htmlFor:"formerPassword",children:"Former password"}),Object(O.jsx)("input",{name:"formerPassword",onChange:this.handleChange,id:"formerPassword",type:"password",placeholder:"former password",value:this.state.formerPassword}),Object(O.jsx)("label",{htmlFor:"newPassword",children:"New password"}),Object(O.jsx)("input",{name:"newPassword",onChange:this.handleChange,id:"newPassword",type:"password",placeholder:"new password",value:this.state.newPassword}),Object(O.jsx)("button",{className:"Btn-black",children:"Update password"})]}),this.state.message&&Object(O.jsx)("p",{className:"Success-message",children:this.state.message})]})]})}}]),a}(n.Component),X=Object(f.g)(v(K)),Z=v(function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={displayCrea:!1,displayColl:!1,displayAct:!0,displayUpdate:!1,user:null},t.handleClick=function(e){!1===t.state[e.target.id]&&(t.setState({displayCrea:!1,displayColl:!1,displayAct:!1,displayUpdate:!1}),t.setState(Object(U.a)({},e.target.id,!t.state[e.target.id])))},t.getTheUpdatedUser=function(e){console.log("voici mon nouveau user",e),t.setState({user:e})},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({user:this.props.context.user})}},{key:"componentDidUpdate",value:function(t,e){e.user&&(e.user.credit===this.state.user.credit&&e.user.avatar===this.state.user.avatar||(this.setState({user:this.state.user}),console.log("kiki")))}},{key:"render",value:function(){var t=this.state,e=t.displayCrea,a=t.displayColl,n=t.displayAct,s=t.displayUpdate,r=t.user;if(!r)return Object(O.jsx)("div",{children:"Loading"});var i={fontWeight:"500"};return Object(O.jsxs)("div",{className:"Profile",children:[Object(O.jsxs)("header",{className:"flex",children:[Object(O.jsxs)("div",{className:"Profile-title flex",children:[Object(O.jsx)("img",{className:"Avatar",src:r.avatar,alt:"user avatar"}),Object(O.jsx)("h1",{children:"Profile"}),Object(O.jsx)("img",{id:"displayUpdate",onClick:this.handleClick,src:"img/edit-btn.svg",alt:"edit-icon"})]}),Object(O.jsx)(E,{user:r})]}),Object(O.jsx)("nav",{className:"Profile-nav",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{id:"displayCrea",style:e?i:null,onClick:this.handleClick,children:"My Creations"}),Object(O.jsx)("span",{children:"|"}),Object(O.jsx)("li",{id:"displayColl",style:a?i:null,onClick:this.handleClick,children:"My Collection"}),Object(O.jsx)("span",{children:"|"}),Object(O.jsx)("li",{id:"displayAct",style:n?i:null,onClick:this.handleClick,children:"My Activity"})]})}),e&&Object(O.jsx)(J,{}),a&&Object(O.jsx)(Y,{}),n&&Object(O.jsx)(q,{}),s&&Object(O.jsx)(X,{getTheUpdatedUser:this.getTheUpdatedUser})]})}}]),a}(n.Component)),G=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={artworks:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;b.getOneCreator(e).then((function(e){return t.setState({artworks:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.state.artworks;return t?Object(O.jsxs)("div",{children:[Object(O.jsxs)("section",{className:"Top-artwork",children:[Object(O.jsxs)("div",{className:"Top-details Artist",children:[Object(O.jsx)("h1",{children:t[0].creator.username}),Object(O.jsx)("p",{children:t[0].creator.description}),Object(O.jsxs)("div",{children:[t[0].creator.networks.instagram&&Object(O.jsx)("a",{href:t[0].creator.networks.instagram,target:"_blank",rel:"noopener noreferrer",children:"Instagram"}),t[0].creator.networks.website&&Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsx)("span",{children:" | "}),Object(O.jsx)("a",{href:t[0].creator.networks.website,target:"_blank",rel:"noopener noreferrer",children:"Website"})]})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:"Avatar-img",src:t[0].creator.avatar,alt:t[0].creator.username})})]}),Object(O.jsxs)("section",{className:"More-artworks",children:[Object(O.jsx)("h4",{className:"",children:"Creations"}),Object(O.jsx)("section",{className:"Cards-gallery",children:t.map((function(t){return Object(O.jsx)(D,{artwork:t},t._id)}))})]})]}):Object(O.jsx)("h3",{children:"Loading"})}}]),a}(n.Component),Q=function(t){var e=t.art.creator;return Object(O.jsx)("div",{className:"ArtworkCard",children:Object(O.jsxs)(c.b,{to:"/artist/".concat(e._id),children:[Object(O.jsx)("img",{src:e.avatar,alt:"".concat(e.username)}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("h5",{children:e.username}),Object(O.jsxs)("h6",{children:[e.description.substring(0,50),"..."]})]})]},e._id)})},tt=(a(69),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={artworksMatch:null,artistsMatch:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.getResults(this.props.searchedValue).then((function(e){t.setState({artworksMatch:e.matchArtwork}),t.setState({artistsMatch:e.matchArtist})})).catch((function(t){console.log(t)}))}},{key:"componentDidUpdate",value:function(t,e){var a=this;t.searchedValue!==this.props.searchedValue&&b.getResults(this.props.searchedValue).then((function(t){a.setState({artworksMatch:t.matchArtwork}),a.setState({artistsMatch:t.matchArtist})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return this.state.artworksMatch&&this.state.artistsMatch?Object(O.jsxs)("div",{children:[Object(O.jsx)("section",{className:"results",children:Object(O.jsxs)("h2",{children:["Results for: ",Object(O.jsx)("span",{className:"searched-keyword",children:this.props.searchedValue})]})}),Object(O.jsx)("h3",{style:{margin:"20px 70px"},children:"Artists"}),Object(O.jsx)("section",{className:"Cards-gallery",children:0===this.state.artistsMatch.length?Object(O.jsx)("p",{children:"No results"}):this.state.artistsMatch.map((function(t){return Object(O.jsx)(Q,{art:t},t._id)}))}),Object(O.jsx)("h3",{style:{margin:"20px 70px"},children:"Artworks"}),Object(O.jsx)("section",{className:"Cards-gallery",children:0===this.state.artworksMatch.length?Object(O.jsx)("p",{children:"No results"}):this.state.artworksMatch.map((function(t){return Object(O.jsx)(D,{artwork:t},t._id)}))})]}):Object(O.jsx)("h3",{children:"Loading"})}}]),a}(n.Component)),et=(a(19),v(function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={isFormOpen:!1,isSubmit:!1,bidValue:0,currentInput:"",message:"",displayMessage:!1,dollars:null},t.displayBidForm=function(){t.props.context.user?t.setState({isFormOpen:!t.state.isFormOpen,isSubmit:!1}):t.setState({message:"You have to log in to place a bid",displayMessage:!t.state.displayMessage})},t.handleChange=function(e){var a=e.target.value;t.setState({currentInput:a})},t.handleSubmit=function(e){e.preventDefault(),t.state.currentInput&&t.setState({bidValue:t.state.currentInput,isFormOpen:!t.state.isFormOpen,isSubmit:!0},(function(){b.addABid(t.state.bidValue,t.props.auction._id).then((function(e){console.log(e),t.setState({message:"Thanks for your bid",displayMessage:!0})})).catch((function(t){return console.log(t)}))}))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auction.bids.length>0?this.setState({bidValue:this.props.auction.bids[0].bidValue}):this.setState({bidValue:this.props.auction.initialPrice})}},{key:"componentDidUpdate",value:function(t,e){var a=this;t.auction._id!==this.props.auction._id&&(this.props.auction.bids.length>0?this.setState({bidValue:this.props.auction.bids[0].bidValue}):this.setState({bidValue:this.props.auction.initialPrice})),e.bidValue!==this.state.bidValue&&P(this.state.bidValue).then((function(t){return a.setState({dollars:t})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.state,e=t.isFormOpen,a=t.isSubmit,n=t.bidValue,s=t.currentInput,r=t.message,i=t.displayMessage,c=t.dollars;return Object(O.jsxs)("div",{className:"BidStatus active",children:[Object(O.jsxs)("div",{className:"Auction-on flex",children:[Object(O.jsxs)("div",{className:"Infos-sale",children:[Object(O.jsx)("h5",{children:"Current Bid"}),Object(O.jsxs)("p",{className:"Price",children:[n,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",c]})]}),Object(O.jsx)("button",{onClick:this.displayBidForm,className:"Btn-bid",children:e?"X":"Place a bid"})]}),e&&!a&&Object(O.jsxs)("form",{onSubmit:this.handleSubmit,className:"Input-bid flex",children:[Object(O.jsx)("input",{required:!0,type:"number",id:"bidValue",name:"bidValue",min:Number(n)+.01,step:"0.01",placeholder:"Place your bid",onChange:this.handleChange,value:s}),Object(O.jsx)("button",{className:"Btn-bid",children:"Submit"})]}),i&&Object(O.jsx)("h5",{style:{marginTop:"20px",color:"#00f035"},children:r})]})}}]),a}(n.Component)));var at=function(){return Object(O.jsx)("div",{className:"BidStatus",children:Object(O.jsx)("p",{children:"Not For Sale"})})},nt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={dollars:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;P(this.props.bids[0].bidValue).then((function(e){return t.setState({dollars:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.props.bids,e=this.state.dollars;return Object(O.jsxs)("div",{className:"BidStatus flex",children:[Object(O.jsxs)("div",{className:"Infos-sale",children:[Object(O.jsx)("h5",{children:"Sold For"}),Object(O.jsxs)("p",{className:"Price",children:[t[0].bidValue,Object(O.jsx)("span",{className:"Currency",children:"ETH"})]}),Object(O.jsxs)("p",{className:"Dollars",children:["$",e]})]}),Object(O.jsxs)("div",{className:"Infos-owner",children:[Object(O.jsx)("h5",{children:"Owned by"}),Object(O.jsx)("p",{children:t[0].bidder.username})]})]})}}]),a}(n.Component),st=(a(70),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={artwork:null,otherArtworks:null,auction:null},t}return Object(l.a)(a,[{key:"getArtwork",value:function(){var t,e=this,a=this.props.match.params.id;b.getOneArtwork(a).then((function(a){t=a.creator._id,e.setState({artwork:a}),b.getOneCreator(t).then((function(t){var a=t.slice(0,4);e.setState({otherArtworks:a})}))})).catch((function(t){return console.log(t)}))}},{key:"getAuction",value:function(){var t=this,e=this.props.match.params.id;b.getLastAuction(e).then((function(e){e.active?t.setState({auction:e,isActive:!0}):!e.active&&e.bids&&t.setState({auction:e})})).catch((function(t){return console.log(t)}))}},{key:"componentDidMount",value:function(){this.getArtwork(),this.getAuction()}},{key:"componentDidUpdate",value:function(t,e){null!==e.artwork&&e.artwork._id!==this.props.match.params.id&&(window.scrollTo(0,0),this.getArtwork(),this.getAuction())}},{key:"render",value:function(){var t=this.state,e=t.artwork,a=t.otherArtworks,n=t.auction,s=t.isActive;return e&&a?Object(O.jsxs)("div",{className:"OneArtwork",children:[e&&Object(O.jsxs)("section",{className:"Top-artwork",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"Top-details-img-size",src:e.image,alt:"hey"}),console.log(n),n&&!s&&Object(O.jsx)(nt,{bids:n.bids}),n&&s&&Object(O.jsx)(et,{auction:n}),!n&&!s&&Object(O.jsx)(at,{})]}),Object(O.jsxs)("div",{className:"Top-details",children:[Object(O.jsx)("h1",{children:e.title}),Object(O.jsx)(c.b,{to:"/artist/".concat(e.creator._id),children:Object(O.jsxs)("h4",{children:["@",e.creator.username]})}),Object(O.jsx)("p",{children:e.description})]})]}),Object(O.jsxs)("section",{className:"More-artworks",children:[Object(O.jsx)("h4",{className:"",children:"From the same artist"}),Object(O.jsx)("section",{className:"Cards-gallery",children:a&&a.map((function(t){return Object(O.jsx)(D,{artwork:t},t._id)}))})]})]}):Object(O.jsx)("div",{children:"isLoading"})}}]),a}(n.Component)),rt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={inputSearch:"",searchedValue:""},t.getInputSearch=function(e){t.setState({inputSearch:e})},t.clearInputSearch=function(){t.setState({inputSearch:""})},t.getSearchedValue=function(){t.setState({searchedValue:t.state.inputSearch},(function(){return t.clearInputSearch()}))},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(k,{getInputSearch:this.getInputSearch,inputSearch:this.state.inputSearch,getSearchedValue:this.getSearchedValue}),Object(O.jsxs)(f.d,{children:[Object(O.jsx)(f.b,{exact:!0,path:"/",component:M}),Object(O.jsx)(f.b,{exact:!0,path:"/results",render:function(){return Object(O.jsx)(tt,{searchedValue:t.state.searchedValue})}}),Object(O.jsx)(f.b,{exact:!0,path:"/artworks/:id",component:st}),Object(O.jsx)(f.b,{exact:!0,path:"/artist/:id",component:G}),Object(O.jsx)(f.b,{exact:!0,path:"/signin",component:B}),Object(O.jsx)(f.b,{exact:!0,path:"/signup",component:L}),Object(O.jsx)(S,{exact:!0,path:"/profile",component:Z})]}),Object(O.jsx)(N,{})]})}}]),a}(n.Component);a(71),a(72);i.a.render(Object(O.jsx)(c.a,{children:Object(O.jsx)(g,{children:Object(O.jsx)(rt,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.5599c276.chunk.js.map